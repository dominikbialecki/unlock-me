"use strict";(self.webpackChunkunlock_me=self.webpackChunkunlock_me||[]).push([[843],{2843:(ft,G,d)=>{d.r(G),d.d(G,{default:()=>Pt});var h=d(6232),M=d(7625),H=d(6895),y=d(6934),B=d(8929),c=d(4650),E=d(7732),S=d(1764),I=d(5510);class _{constructor(m){this.messageService=m}showMessage(m){const b=m.filter(Y=>Y.completed),f=0===b.length,z=b.length===m.length,R=S().isAfter(S(m[0].date,"DD-MM-YYYY"));f?this.showInitialMessage():z?this.showWinMessage():R?this.showNextGameMessage():this.showNextGameInactiveMessage()}showInitialMessage(){return this.messageService.showIfNotLastSeen({message:"\n      <p>Witaj w centrum dowodzenia! Ciesz\u0119 si\u0119, \u017ce tu dotar\u0142a\u015b. Teraz mog\u0119 Ci\u0119 wtajemniczy\u0107 w nasz\u0105 misj\u0119.</p>\n      <p>Kiedy Grinch nam uciek\u0142, d\u0142ugo nie mogli\u015bmy go znale\u017a\u0107. Po oko\u0142o tygodniu jeden z naszych agent\xf3w ogl\u0105daj\u0105c sw\xf3j ulubiony film zauwa\u017cy\u0142, \u017ce scenariusz si\u0119 zmieni\u0142. Wygl\u0105da na to, \u017ce Grinch znalaz\u0142 spos\xf3b, \u017ceby przemieszcza\u0107 si\u0119 mi\u0119dzy \u015bwiatami! Teraz zagro\u017cone s\u0105 nie tylko nasze \u015awi\u0119ta, ale \u015awi\u0119ta we wszystkich uniwersach!</p>\n      <p>Zesp\xf3\u0142 naszych \u015bwiatowej klasy ekspert\xf3w stworzy\u0142 technologi\u0119 TvPortal, dzi\u0119ki kt\xf3rej mamy szans\u0119 go z\u0142apa\u0107 niezale\u017cnie od tego, gdzie si\u0119 ukrywa. Skorzystaj z portalu, \u017ceby dopa\u015b\u0107 Grincha. Je\u015bli zd\u0105\u017cy\u0142 napsoci\u0107, musisz to odkr\u0119ci\u0107.</p>\n      <p>Los \u015awi\u0105t wszystkich \u015bwiat\xf3w zale\u017cy od Ciebie!</p>\n    ",actions:[{text:"Nikt nie b\u0119dzie niszczy\u0107 \u015awi\u0105t na mojej warcie!"}]})}showNextGameMessage(){return this.messageService.showIfNotLastSeen({message:"\n      <p>Tym razem temu parszywemu Grinchowi uda\u0142o si\u0119 uciec do kolejnego \u015bwiata.</p>\n      <p>Ustalili\u015bmy jego aktualn\u0105 pozycj\u0119. Portal jest ju\u017c gotowy do skoku. Do dzie\u0142a, agencie. Uratuj \u015bwi\u0119ta!</p>\n    ",actions:[{text:"Nikt nie b\u0119dzie niszczy\u0107 \u015awi\u0105t na mojej warcie!"}]})}showNextGameInactiveMessage(){return this.messageService.showIfNotLastSeen({message:"\n      <p>Tym razem temu parszywemu Grinchowi uda\u0142o si\u0119 uciec!</p>\n      <p>Kalibracja portalu do kolejnego \u015bwiata nie jest prostym zadaniem i chwil\u0119 potrwa. B\u0105d\u017a w gotowo\u015bci.</p>\n    ",actions:[{text:"Ok, wr\xf3c\u0119 p\xf3\u017aniej"}]})}showWinMessage(){return this.messageService.showIfNotLastSeen({message:"\n      <p>Gratulacje! Grinch nareszcie zosta\u0142 powstrzymany.</p>\n      <p>Wszyscy jeste\u015bmy z Ciebie bardzo dumni. \u015awiaty nareszcie s\u0105 stabilne i nic ju\u017c nie powinno tego zmieni\u0107. Zas\u0142u\u017cy\u0142a\u015b na d\u0142uugi urlop!</p>\n      <p>Co powiesz na wypoczynek w Wi\u015ble?</p>\n    ",actions:[]})}showPostBattleActiveMessage(){return this.messageService.showIfNotLastSeen({message:"\n      <p>JAK DO TEGO MOG\u0141O DOJ\u015a\u0106?!</p>\n      <p>Co za niedopatrzenie, co za niedopatrzenie... Kiedy furgonetka dojecha\u0142a do wi\u0119zienia, w \u015brodku znale\u017ali\u015bmy jedynie pusty worek! To wielka plama na honorze agencji. Nikt nie wie jak mog\u0142o do tego doj\u015b\u0107.</p>\n      <p>Jako, \u017ce \u015awi\u0119ta trwaj\u0105 w najlepsze, podejrzewamy, \u017ce Grinch zamierza dalej psoci\u0107. Musisz go powstrzyma\u0107!</p>\n    ",actions:[{text:"Nikt nie b\u0119dzie niszczy\u0107 \u015awi\u0105t na mojej warcie!"}]})}showPostBattleInactiveMessage(){return this.messageService.showIfNotLastSeen({message:"\n      <p>Co za \u015bwietna robota! Nie mog\u0119 wyj\u015b\u0107 z dumy. Grinch jedzie ju\u017c w worku prosto do aresztu.</p>\n      <p>Spocznij agencie, to ju\u017c koniec przyg\xf3d.</p>\n    ",actions:[{text:"Zrozumiano. Weso\u0142ych \u015awi\u0105t!"}]})}}_.\u0275fac=function(m){return new(m||_)(c.LFG(I.e))},_.\u0275prov=c.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"});var k=d(1715),P=d(4850),D=d(7658);function Z(C,m){if(1&C&&(c.TgZ(0,"div",6)(1,"span"),c._uU(2),c.ALo(3,"async"),c.qZA()()),2&C){const b=c.oxw();c.xp6(2),c.Oqu(c.lcZ(3,1,b.timeUntilActivation$))}}class V{constructor(m){this.router=m,this.selected=!1}ngOnChanges(){const m=S(this.puzzle?.date,"DD-MM-YYYY");this.isActive=S().isAfter(m),this.timeUntilActivation$=(0,k.F)(1e3).pipe((0,P.U)(()=>S.duration(m.diff(S())).format("HH:mm:ss"))),this.src=this.isActive?this.puzzle.image:"assets/no-signal-tv.gif"}onClick(){this.isActive&&(this.selected=!0,setTimeout(()=>this.router.navigate([this.puzzle.path]),400))}}function o(C,m){1&C&&c._UZ(0,"um-puzzle-portal",2),2&C&&c.Q6J("puzzle",m.$implicit)}function nt(C,m){if(1&C&&(c.ynx(0),c.YNc(1,o,1,1,"um-puzzle-portal",1),c.BQk()),2&C){const b=m.ngIf;c.xp6(1),c.Q6J("ngForOf",b)}}V.\u0275fac=function(m){return new(m||V)(c.Y36(D.F0))},V.\u0275cmp=c.Xpm({type:V,selectors:[["um-puzzle-portal"]],hostVars:2,hostBindings:function(m,b){1&m&&c.NdJ("click",function(){return b.onClick()}),2&m&&c.ekj("selected",b.selected)},inputs:{puzzle:"puzzle"},features:[c.TTD],decls:6,vars:3,consts:[[1,"container"],[1,"tv"],[1,"switch"],[1,"image",3,"alt","src"],[1,"cover","crt"],["class","duration-container",4,"ngIf"],[1,"duration-container"]],template:function(m,b){1&m&&(c.TgZ(0,"div",0)(1,"div",1),c._UZ(2,"div",2)(3,"img",3)(4,"div",4),c.YNc(5,Z,4,3,"div",5),c.qZA()()),2&m&&(c.xp6(3),c.Q6J("alt",b.puzzle.id)("src",b.src,c.LSH),c.xp6(2),c.Q6J("ngIf",!b.isActive))},dependencies:[H.O5,H.Ov],styles:['[_nghost-%COMP%]{display:block}[_nghost-%COMP%]   .image[_ngcontent-%COMP%]{min-height:100%;max-width:100%}[_nghost-%COMP%]   .duration-container[_ngcontent-%COMP%]{position:absolute;z-index:1;top:50%;left:50%;transform:translate(-50%,-50%);color:#fff;font-size:3rem;font-family:digital-7,Arial,Helvetica,sans-serif}.selected[_nghost-%COMP%]   .tv[_ngcontent-%COMP%]{z-index:1000;transform:scale(12);filter:brightness(300%)}.container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;position:relative}.tv[_ngcontent-%COMP%]{overflow:hidden;transition:all .5s ease-in;transition-timing-function:cubic-bezier(.25,.1,.25,1);background:#333;width:70%;height:39.375vw;border:5px solid #000;border-color:#000 #101010 #000 #101010;position:relative;box-shadow:0 0 5px #111 inset,5px 0 5px -3px #111,-5px 0 5px -3px #000}.cover[_ngcontent-%COMP%]{position:absolute;background:radial-gradient(transparent,transparent,rgba(0,0,0,.5019607843));width:100%;height:100%;top:0;overflow:hidden;box-shadow:0 0 1px #000 inset}.cover[_ngcontent-%COMP%]:before{content:"";position:absolute;width:100%;height:100%;box-sizing:border-box}.cover[_ngcontent-%COMP%]:after{content:"";background:linear-gradient(45deg,rgba(255,255,255,0) 15%,rgba(255,255,255,.0509803922) 35%,rgba(255,255,255,0),rgba(255,255,255,.0196078431),rgba(255,255,255,.1254901961));position:absolute;top:0;width:100%;height:100%}@keyframes _ngcontent-%COMP%_turned-on{0%{border-width:0}to{border-width:0}}@keyframes _ngcontent-%COMP%_turn-off{0%{border-width:0vh;border-left-width:0vw;border-right-width:0vw}50%{border-width:19.65vw;border-left-width:10vw;border-right-width:10vw}to{border-width:19.65vw;border-left-width:35.1vw;border-right-width:35.1vw}}@keyframes _ngcontent-%COMP%_turned-off{0%{border-width:19.65vw;border-left-width:35.1vw;border-right-width:35.1vw;background:#111111}to{border-width:19.65vw;border-left-width:35.1vw;border-right-width:35.1vw;background:#111111}}@keyframes _ngcontent-%COMP%_white-dot{0%{background:rgba(255,255,255,.5019607843)}to{background:#111111}}@keyframes _ngcontent-%COMP%_flicker{0%{opacity:.27861}5%{opacity:.34769}10%{opacity:.23604}15%{opacity:.90626}20%{opacity:.18128}25%{opacity:.83891}30%{opacity:.65583}35%{opacity:.67807}40%{opacity:.26559}45%{opacity:.84693}50%{opacity:.96019}55%{opacity:.08594}60%{opacity:.20313}65%{opacity:.71988}70%{opacity:.53455}75%{opacity:.37288}80%{opacity:.71428}85%{opacity:.70419}90%{opacity:.7003}95%{opacity:.36108}to{opacity:.24387}}@keyframes _ngcontent-%COMP%_textShadow{0%{text-shadow:.4389924193px 0 1px rgba(0,30,255,.5),-.4389924193px 0 1px rgba(255,0,80,.3),0 0 3px}5%{text-shadow:2.7928974011px 0 1px rgba(0,30,255,.5),-2.7928974011px 0 1px rgba(255,0,80,.3),0 0 3px}10%{text-shadow:.0295627584px 0 1px rgba(0,30,255,.5),-.0295627584px 0 1px rgba(255,0,80,.3),0 0 3px}15%{text-shadow:.4021853855px 0 1px rgba(0,30,255,.5),-.4021853855px 0 1px rgba(255,0,80,.3),0 0 3px}20%{text-shadow:3.47940379px 0 1px rgba(0,30,255,.5),-3.47940379px 0 1px rgba(255,0,80,.3),0 0 3px}25%{text-shadow:1.6125630401px 0 1px rgba(0,30,255,.5),-1.6125630401px 0 1px rgba(255,0,80,.3),0 0 3px}30%{text-shadow:.7015590085px 0 1px rgba(0,30,255,.5),-.7015590085px 0 1px rgba(255,0,80,.3),0 0 3px}35%{text-shadow:3.8969140477px 0 1px rgba(0,30,255,.5),-3.8969140477px 0 1px rgba(255,0,80,.3),0 0 3px}40%{text-shadow:3.8709056148px 0 1px rgba(0,30,255,.5),-3.8709056148px 0 1px rgba(255,0,80,.3),0 0 3px}45%{text-shadow:2.2310569634px 0 1px rgba(0,30,255,.5),-2.2310569634px 0 1px rgba(255,0,80,.3),0 0 3px}50%{text-shadow:.0808429042px 0 1px rgba(0,30,255,.5),-.0808429042px 0 1px rgba(255,0,80,.3),0 0 3px}55%{text-shadow:2.3758461067px 0 1px rgba(0,30,255,.5),-2.3758461067px 0 1px rgba(255,0,80,.3),0 0 3px}60%{text-shadow:2.2021930511px 0 1px rgba(0,30,255,.5),-2.2021930511px 0 1px rgba(255,0,80,.3),0 0 3px}65%{text-shadow:2.8638780615px 0 1px rgba(0,30,255,.5),-2.8638780615px 0 1px rgba(255,0,80,.3),0 0 3px}70%{text-shadow:.4887402516px 0 1px rgba(0,30,255,.5),-.4887402516px 0 1px rgba(255,0,80,.3),0 0 3px}75%{text-shadow:1.8948491306px 0 1px rgba(0,30,255,.5),-1.8948491306px 0 1px rgba(255,0,80,.3),0 0 3px}80%{text-shadow:.0833037308px 0 1px rgba(0,30,255,.5),-.0833037308px 0 1px rgba(255,0,80,.3),0 0 3px}85%{text-shadow:.0976982726px 0 1px rgba(0,30,255,.5),-.0976982726px 0 1px rgba(255,0,80,.3),0 0 3px}90%{text-shadow:3.4433397615px 0 1px rgba(0,30,255,.5),-3.4433397615px 0 1px rgba(255,0,80,.3),0 0 3px}95%{text-shadow:2.1841838853px 0 1px rgba(0,30,255,.5),-2.1841838853px 0 1px rgba(255,0,80,.3),0 0 3px}to{text-shadow:2.6208764474px 0 1px rgba(0,30,255,.5),-2.6208764474px 0 1px rgba(255,0,80,.3),0 0 3px}}.crt[_ngcontent-%COMP%]:after{content:" ";display:block;position:absolute;inset:0;background:rgba(18,16,16,.1);opacity:0;z-index:2;pointer-events:none;animation:_ngcontent-%COMP%_flicker .15s infinite}.crt[_ngcontent-%COMP%]:before{content:" ";display:block;position:absolute;inset:0;background:linear-gradient(rgba(18,16,16,0) 50%,rgba(0,0,0,.25) 50%),linear-gradient(90deg,rgba(255,0,0,.06),rgba(0,255,0,.02),rgba(0,0,255,.06));z-index:2;background-size:100% 2px,3px 100%;pointer-events:none}.crt[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_textShadow 1.6s infinite}'],changeDetection:0});class L{constructor(m,b){this.puzzleService=m,this.messageService=b,this.destroy$=new B.xQ,this.puzzles$=this.puzzleService.getPuzzles().pipe((0,h.d)(1))}ngOnInit(){this.puzzles$.pipe((0,M.R)(this.destroy$)).subscribe(m=>{this.messageService.showMessage(m)})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}L.\u0275fac=function(m){return new(m||L)(c.Y36(E.N),c.Y36(_))},L.\u0275cmp=c.Xpm({type:L,selectors:[["um-command-center"]],standalone:!0,features:[c.jDz],decls:2,vars:3,consts:[[4,"ngIf"],[3,"puzzle",4,"ngFor","ngForOf"],[3,"puzzle"]],template:function(m,b){1&m&&(c.YNc(0,nt,2,1,"ng-container",0),c.ALo(1,"async")),2&m&&c.Q6J("ngIf",c.lcZ(1,1,b.puzzles$))},dependencies:[H.ez,H.sg,H.O5,H.Ov,y.PuzzleModule,V],styles:["[_nghost-%COMP%]{display:grid;grid-template-columns:1fr;grid-template-rows:min-content;grid-row-gap:2rem;flex-direction:column;justify-content:center;align-items:center;background:url(command-center-background.fd3e0b06670622d7.png) no-repeat center;background-size:cover;padding-top:35%;padding-bottom:2rem}um-puzzle-portal[_ngcontent-%COMP%]{height:100%}"],changeDetection:0});var q=d(4859),A=d(7478),g=d(3238);let Q=(()=>{class C{}return C.\u0275fac=function(b){return new(b||C)},C.\u0275mod=c.oAB({type:C}),C.\u0275inj=c.cJS({imports:[g.BQ,g.BQ]}),C})();const ct=function(){return["prize"]};function at(C,m){1&C&&(c.TgZ(0,"button",4)(1,"mat-icon"),c._uU(2,"checklist"),c.qZA()()),2&C&&c.Q6J("routerLink",c.DdM(1,ct))}const rt=function(){return["."]};function K(C,m){1&C&&(c.TgZ(0,"button",4)(1,"mat-icon"),c._uU(2,"tv"),c.qZA()()),2&C&&c.Q6J("routerLink",c.DdM(1,rt))}function ut(C,m){if(1&C){const b=c.EpF();c.TgZ(0,"button",5),c.NdJ("click",function(){c.CHM(b);const z=c.oxw();return c.KtG(z.showMessage())}),c.TgZ(1,"mat-icon"),c._uU(2,"chat"),c.qZA()()}}class mt{constructor(m,b){this.router=m,this.messageService=b,this.scrollTop=0,this.hideNav=!1,this.isRoot$=this.router.events.pipe((0,P.U)(()=>"/christmas/command-center"===this.router.url)),this.isPrize$=this.router.events.pipe((0,P.U)(()=>"/christmas/command-center/prize"===this.router.url))}onScroll(m){this.hideNav=this.scrollTop<m.target.scrollTop,this.scrollTop=m.target.scrollTop}showMessage(){this.messageService.showMessage()}}mt.\u0275fac=function(m){return new(m||mt)(c.Y36(D.F0),c.Y36(I.e))},mt.\u0275cmp=c.Xpm({type:mt,selectors:[["um-command-center-shell"]],hostBindings:function(m,b){1&m&&c.NdJ("scroll",function(z){return b.onScroll(z)})},standalone:!0,features:[c.jDz],decls:9,vars:11,consts:[[1,"toolbar"],["class","toolbar-button","mat-mini-fab","",3,"routerLink",4,"ngIf"],[1,"spacer"],["class","toolbar-button","mat-mini-fab","",3,"click",4,"ngIf"],["mat-mini-fab","",1,"toolbar-button",3,"routerLink"],["mat-mini-fab","",1,"toolbar-button",3,"click"]],template:function(m,b){1&m&&(c.TgZ(0,"div",0),c.YNc(1,at,3,2,"button",1),c.ALo(2,"async"),c.YNc(3,K,3,2,"button",1),c.ALo(4,"async"),c._UZ(5,"div",2),c.YNc(6,ut,3,0,"button",3),c.ALo(7,"async"),c.qZA(),c._UZ(8,"router-outlet")),2&m&&(c.ekj("hidden",b.hideNav),c.xp6(1),c.Q6J("ngIf",c.lcZ(2,5,b.isRoot$)),c.xp6(2),c.Q6J("ngIf",c.lcZ(4,7,b.isPrize$)),c.xp6(3),c.Q6J("ngIf",!c.lcZ(7,9,b.isPrize$)))},dependencies:[H.ez,H.O5,H.Ov,D.lC,D.rH,q.ot,q.nh,A.Ps,A.Hw,Q],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;height:100%;overflow:auto}[_nghost-%COMP%] >   router-outlet+*{flex:1 1 auto}.toolbar[_ngcontent-%COMP%]{position:absolute;z-index:1000;top:0;left:0;display:flex;width:100%;box-sizing:border-box;padding:.5rem 1rem;transition:all .25s ease-in}.toolbar[_ngcontent-%COMP%]   .toolbar-button[_ngcontent-%COMP%]{background-color:#fff9}.toolbar[_ngcontent-%COMP%]   .spacer[_ngcontent-%COMP%]{flex:1 1 auto}.toolbar.hidden[_ngcontent-%COMP%]{margin-top:-56px}"],changeDetection:0});const Pt=[{path:"",component:mt,children:[{path:"",pathMatch:"full",component:L},{path:"puzzle",loadChildren:()=>Promise.resolve().then(d.bind(d,6934)).then(C=>C.PuzzleModule)},{path:"prize",loadComponent:()=>d.e(399).then(d.bind(d,5399)).then(C=>C.PrizeComponent)}]}]},7732:(ft,G,d)=>{d.d(G,{N:()=>c,Q:()=>y});var h=d(591),M=d(4850),H=d(4650),y=(()=>{return(E=y||(y={})).HarryPotter="harry-potter",E.Memory="memory",E.Drum="drum",E.UnstablePath="unstable-path",E.Songs="songs",E.Battle="Battle",y;var E})();const B=[{id:y.Memory,image:"assets/christmas/memory/memory-poster.jpg",completed:!1,date:"21-12-2022",path:"christmas/command-center/puzzle/memory"},{id:y.UnstablePath,image:"assets/christmas/unstable-path/indiana-jones-poster.jpg",completed:!1,date:"22-12-2022",path:"christmas/command-center/puzzle/unstable-path"},{id:y.Drum,image:"assets/christmas/drum/drum-poster.png",completed:!1,date:"23-12-2022",path:"christmas/command-center/puzzle/drum"},{id:y.HarryPotter,image:"assets/christmas/harry-potter/harry-potter-poster.jpg",completed:!1,date:"24-12-2022",path:"christmas/command-center/puzzle/hit-the-mole"},{id:y.Songs,image:"assets/christmas/song-anagram/song-puzzle-poster.jpg",completed:!1,date:"25-12-2022",path:"christmas/command-center/puzzle/songs"},{id:y.Battle,image:"assets/christmas/battle/battle-poster.png",completed:!1,date:"26-12-2022",path:"christmas/command-center/puzzle/battle"}];class c{constructor(){this.puzzleKey="puzzles",this.puzzles$=new h.X([]);const S=localStorage.getItem(this.puzzleKey),I=this.refreshSavedPrizes(S?JSON.parse(S):void 0);this.storePuzzles(I)}getPuzzles(){return this.puzzles$.pipe((0,M.U)(S=>{const I=S.filter(P=>P.completed),_=S.find(P=>!P.completed),k=[...I];return _&&k.push(_),k.reverse()}))}marAsCompleted(S){const I=this.puzzles$.getValue().map(_=>_.id===S?{..._,completed:!0}:_);this.storePuzzles(I)}refreshSavedPrizes(S){return S?B.map(I=>{const _=S.find(k=>k.id===I.id);return{...I,completed:_?.completed??!1}}):[...B]}storePuzzles(S){this.puzzles$.next(S),localStorage.setItem(this.puzzleKey,JSON.stringify(S))}}c.\u0275fac=function(S){return new(S||c)},c.\u0275prov=H.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"})},5510:(ft,G,d)=>{d.d(G,{e:()=>S});var h=d(6895),M=d(3023),H=d(7553),y=d(4650);function B(I,_){if(1&I){const k=y.EpF();y.TgZ(0,"li",5),y.NdJ("click",function(){const Z=y.CHM(k).$implicit,V=y.oxw();return y.KtG(V.onActionClick(Z))}),y._UZ(1,"span",6),y.qZA()}if(2&I){const k=_.$implicit;y.xp6(1),y.Q6J("innerHTML",k.text,y.oJD)}}class c{constructor(_,k){this.data=_,this.dialog=k}onActionClick(_){this.dialog.close(_.callback?.())}}c.\u0275fac=function(_){return new(_||c)(y.Y36(M.WI),y.Y36(M.so))},c.\u0275cmp=y.Xpm({type:c,selectors:[["um-message-dialog"]],standalone:!0,features:[y.jDz],decls:7,vars:2,consts:[[1,"note"],[1,"dialog"],[1,"dialog-text",3,"innerHTML"],[1,"dialog-answers"],[3,"click",4,"ngFor","ngForOf"],[3,"click"],[3,"innerHTML"]],template:function(_,k){1&_&&(y.TgZ(0,"um-note",0)(1,"mat-dialog-content")(2,"div",1),y._UZ(3,"div",2),y.TgZ(4,"div",3)(5,"ul"),y.YNc(6,B,2,1,"li",4),y.qZA()()()()()),2&_&&(y.xp6(3),y.Q6J("innerHTML",k.data.message,y.oJD),y.xp6(3),y.Q6J("ngForOf",k.data.actions))},dependencies:[h.ez,h.sg,M.Is,M.xY,H.K],styles:["[_nghost-%COMP%]{display:block}.note[_ngcontent-%COMP%]{margin:0;padding:0}"],changeDetection:0});var E=d(1086);class S{constructor(_){this.dialog=_,this.messageKey="messages",this.message=localStorage.getItem(this.messageKey)}showMessage(_){return this.dialog.open(c,{data:{message:this.message,..._}}).afterClosed()}setMessage(_){this.message=_,localStorage.setItem(this.messageKey,_)}showIfNotLastSeen(_){return this.message!==_.message?(this.setMessage(_.message),this.showMessage(_)):(0,E.of)(void 0)}}S.\u0275fac=function(_){return new(_||S)(y.LFG(M.uw))},S.\u0275prov=y.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"})},5552:(ft,G,d)=>{d.d(G,{L$:()=>E,oW:()=>I});var h=d(591),M=d(1086),H=d(4850),y=d(1764),c=d(4650),E=(()=>{return(_=E||(E={})).Bite="Bite",_.Massage="Massage",_.HarryPotter="HarryPotter",_.FoodDelivery="FoodDelivery",_.Breakfast="Breakfast",_.GoneWithTheWind="GoneWithTheWind",_.ChooseTvSeries="ChooseTvSeries",_.Theatre="Theatre",_.Sauna="Sauna",E;var _})();const S=[{id:E.ChooseTvSeries,name:"Wyb\xf3r serialu"},{id:E.Sauna,name:"Wyj\u015bcie na sauny"},{id:E.Breakfast,name:"Przepyszne \u015bniadanie do \u0142\xf3\u017cka"},{id:E.HarryPotter,name:"Obejrzymy Harrego Pottera"},{id:E.Theatre,name:"P\xf3jdziemy do teatru na wybrany przez Ciebie spektakl"},{id:E.Bite,name:"Ugryzienie w brzuch"},{id:E.GoneWithTheWind,name:'Obejrzenie "Przemin\u0119\u0142o z wiatrem"'},{id:E.FoodDelivery,name:"Zam\xf3wimy jedzenie jakie sobie tylko \u017cyczysz"},{id:E.Massage,name:"Masa\u017c"}].map(_=>({..._,active:!1}));class I{constructor(){this.prizeKey="prizes",this.prizes$=new h.X([]);let k=localStorage.getItem(this.prizeKey);const P=this.refreshSavedPrizes(k?JSON.parse(k):void 0);this.storePrizes(P)}getPrizes(){return this.prizes$.pipe((0,H.U)(k=>k.filter(P=>P.active)))}markAsUsed(k){const P=y().format("YYYY-MM-DD HH:mm:ss"),D=this.prizes$.getValue().map(Z=>Z.id===k?{...Z,usedDate:P}:Z);return this.storePrizes(D),(0,M.of)()}undoMarkAsUsed(k){const P=this.prizes$.getValue().map(D=>D.id===k?{...D,usedDate:void 0}:D);return this.storePrizes(P),(0,M.of)()}unlockPrize(k){const P=this.prizes$.getValue(),D=P.find(Z=>Z.id===k);return D&&(D.active=!0,this.storePrizes(P)),(0,M.of)(D)}storePrizes(k){this.prizes$.next(k),localStorage.setItem(this.prizeKey,JSON.stringify(k))}refreshSavedPrizes(k){return k?S.map(P=>{const D=k.find(Z=>Z.id===P.id);return{...P,usedDate:D?.usedDate,active:D?.active??!1}}):[...S]}}I.\u0275fac=function(k){return new(k||I)},I.\u0275prov=c.Yz7({token:I,factory:I.\u0275fac,providedIn:"root"})},6934:(ft,G,d)=>{d.r(G),d.d(G,{PuzzleModule:()=>Ct});var h=d(6895),M=d(5660),H=d(7658),y=d(1086),B=d(8929),c=d(591),E=d(1715),S=d(8583),I=d(1059),_=d(7625),k=d(2821),P=d(4850),D=d(2986),Z=d(2014),V=d(6232),o=d(4650),nt=d(5552),L=d(7732),q=d(5510);class A{constructor(e,a){this.prizeStore=e,this.router=a}awardAndShowPrize(e){this.prizeStore.unlockPrize(e).subscribe(()=>{this.router.navigate(["/christmas/command-center/prize"])})}}A.\u0275fac=function(e){return new(e||A)(o.LFG(nt.oW),o.LFG(H.F0))},A.\u0275prov=o.Yz7({token:A,factory:A.\u0275fac,providedIn:"root"});class g{constructor(e,a,l){this.messageService=e,this.prizeService=a,this.puzzleService=l}showWelcomeMessage(){return this.messageService.setMessage("Z naszych informacji wynika, \u017ce Grinch nienawidzi sierot. Szczeg\xf3lnie tych z blizn\u0105 na czole. Wys\u0142a\u0142 swoje pomioty, \u017ceby zepsuli jednej z nich jej ju\u017c i tak \u017ca\u0142osne \u015bwi\u0119ta bez rodzic\xf3w. Zatrzymaj je, nim stanie si\u0119 co\u015b niedobrego! \u017beby u\u0142atwi\u0107 Ci zadanie, wys\u0142ali\u015bmy te\u017c naszych ludzi do pomocy."),this.messageService.showMessage({actions:[{text:"Zajm\u0119 si\u0119 nimi!"}]})}showLoseMessage(){return this.messageService.setMessage("Nie, nie, nie! Co Ty wyprawiasz?! Chcesz, \u017ceby to biedne dziecko straci\u0142o resztki rado\u015bci z \u017cycia?"),this.messageService.showMessage({actions:[{text:"Tym razem na pewno mi si\u0119 uda!!!"}]})}showNextLevelMessage(){return this.messageService.setMessage("\u015awietna robota! Ale to jeszcze nie koniec. Nadci\u0105ga nowa horda pomiot\xf3w!"),this.messageService.showMessage({actions:[{text:"Phi, co to dla mnie"}]})}showWinMessage(){this.messageService.setMessage("\n        <span>Gratulacje! Uda\u0142o Ci si\u0119 pokrzy\u017cowa\u0107 plany Grincha, cho\u0107 niestety on sam umkn\u0105\u0142. Nast\u0119pnym razem dostanie za swoje!</span>\n        <br/><br/>\n        <span>W nagrod\u0119 za zas\u0142ugi przyznali\u015bmy Ci kolejny przywilej.</span>\n    "),this.messageService.showMessage({actions:[{text:"Eeeekstra!!! Co to takiego?"}]}).subscribe(()=>{this.puzzleService.marAsCompleted(L.Q.HarryPotter),this.prizeService.awardAndShowPrize(nt.L$.GoneWithTheWind)})}}g.\u0275fac=function(e){return new(e||g)(o.LFG(q.e),o.LFG(A),o.LFG(L.N))},g.\u0275prov=o.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"});class w{constructor(e){this.elementRef=e,this.emoji="\u2b50",this.explodeFromCenter=!1,this.explodeRadius=50,this.explodePoints=5,this.options={variation:30}}explode(e){const a=this.options,l=document.createElement("div");l.classList.add("particles-container"),this.explodeFromCenter||(l.style.left=e.clientX+"px",l.style.top=e.clientY+"px"),this.elementRef.nativeElement.appendChild(l);for(let x=0;x<this.explodePoints;x++){const F=360/this.explodePoints*(x+1),J=F+Math.random()*a.variation,pt=F-Math.random()*a.variation,X=this.randomAngleBetween(pt,J),Jt=Math.cos(X)*this.explodeRadius,oe=Math.sin(X)*this.explodeRadius,vt=document.createElement("div");vt.textContent=this.emoji,vt.classList.add("particle"),vt.style.top=oe+"px",vt.style.left=Jt+"px",l.appendChild(vt)}setTimeout(()=>this.elementRef.nativeElement.removeChild(l),500)}randomAngleBetween(e,a){return(Math.random()*(a-e)+e)/180*Math.PI-Math.PI/2}}w.\u0275fac=function(e){return new(e||w)(o.Y36(o.SBq))},w.\u0275dir=o.lG2({type:w,selectors:[["","umExplosion",""]],hostBindings:function(e,a){1&e&&o.NdJ("click",function(x){return a.explode(x)})},inputs:{emoji:["umExplosion","emoji"],explodeFromCenter:"explodeFromCenter",explodeRadius:"explodeRadius",explodePoints:"explodePoints"}});const j=function(u,e,a,l){return{"top.%":u,"left.%":e,"width.vmax":a,"height.vmax":l}};function N(u,e){if(1&u){const a=o.EpF();o.ynx(0),o.TgZ(1,"div",5),o.NdJ("click",function(){const F=o.CHM(a).$implicit;return o.KtG(F.onHit())}),o.ALo(2,"async"),o.qZA(),o.BQk()}if(2&u){const a=e.$implicit;o.xp6(1),o.ekj("hidden",!o.lcZ(2,5,a.shouldShow$)),o.Q6J("explodeFromCenter",!0)("ngStyle",o.l5B(7,j,a.top,a.left,a.size,a.size))("ngClass",a.type)}}function tt(u,e){if(1&u&&(o.TgZ(0,"div",3),o.YNc(1,N,3,12,"ng-container",4),o.ALo(2,"async"),o.qZA()),2&u){const a=o.oxw();o.xp6(1),o.Q6J("ngForOf",o.lcZ(2,1,a.moles$))}}class U{constructor(e){this.isHit=!1,this.runAway=!1,this.top=this.randomPosition(),this.left=this.randomPosition(),this.type=this.randomMoleType(),this.size=this.randomSize(),this.shouldShow$=(0,y.of)(!1).pipe((0,S.g)(e.lifespan),(0,I.O)(!0)),this.shouldShow$.subscribe({complete:()=>{this.isHit||(this.runAway=!0)}})}onHit(){this.isHit=!0}randomPosition(){const e=100*Math.random();return Math.min(Math.max(e,5),95)}randomSize(){return 8*Math.random()+10}randomMoleType(){return Math.random()>.5?"dobby":"kreacher"}}class ${constructor(e){this.messageService=e,this.destroy$=new B.xQ,this.started$=new c.X(!1),this.currentGameIndex=0,this.games=[{newMoleInterval:1e3,lifespan:900,quantity:10},{newMoleInterval:900,lifespan:850,quantity:12},{newMoleInterval:800,lifespan:700,quantity:14}]}ngOnInit(){this.messageService.showWelcomeMessage().subscribe(()=>{this.start()})}start(){this.startGame(this.games[this.currentGameIndex]).pipe((0,_.R)(this.destroy$)).subscribe(e=>{this.started$.next(!1),e&&this.currentGameIndex++,e?this.currentGameIndex===this.games.length?this.messageService.showWinMessage():this.messageService.showNextLevelMessage().subscribe(()=>this.start()):this.messageService.showLoseMessage().subscribe(()=>this.start())})}startGame(e){return this.started$.next(!0),this.moles$=this.generateMoles(e),this.moles$.pipe((0,k.h)(1),(0,S.g)(e.lifespan+1e3),(0,P.U)(a=>{const l=a.filter(X=>"dobby"===X.type),x=a.filter(X=>"kreacher"===X.type),F=l.filter(X=>X.isHit).length,J=a.filter(X=>X.isHit).length,pt=x.every(X=>X.isHit)&&l.every(X=>X.runAway);return console.log({positives:l,negatives:x,positiveHit:F,negativeHit:J,passed:pt}),pt}))}generateMoles(e){return(0,E.F)(e.newMoleInterval).pipe((0,D.q)(e.quantity),(0,P.U)(()=>new U({lifespan:e.lifespan})),(0,Z.R)((a,l)=>[...a,l],[]),(0,V.d)(1))}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}$.\u0275fac=function(e){return new(e||$)(o.Y36(g))},$.\u0275cmp=o.Xpm({type:$,selectors:[["um-hit-the-mole"]],decls:4,vars:3,consts:[[1,"background"],[1,"wrapper"],["class","mole-container",4,"ngIf"],[1,"mole-container"],[4,"ngFor","ngForOf"],["umExplosion","\u2728",1,"mole",3,"explodeFromCenter","ngStyle","ngClass","click"]],template:function(e,a){1&e&&(o._UZ(0,"div",0),o.TgZ(1,"div",1),o.YNc(2,tt,3,3,"div",2),o.ALo(3,"async"),o.qZA()),2&e&&(o.xp6(2),o.Q6J("ngIf",o.lcZ(3,1,a.started$)))},dependencies:[h.mk,h.sg,h.O5,h.PC,w,h.Ov],styles:["[_nghost-%COMP%]{display:block;position:relative}.background[_ngcontent-%COMP%]{position:absolute;inset:0;background:url(harry-potter-background.e6e3ab08d3cd5d54.gif) no-repeat center;opacity:.3;background-size:cover;z-index:0}.wrapper[_ngcontent-%COMP%]{position:absolute;inset:0;z-index:1}.mole-container[_ngcontent-%COMP%]{width:100%;height:100%;position:relative;overflow:hidden}.mole[_ngcontent-%COMP%]{position:absolute;cursor:pointer;transform:translate(-50%,-50%);-webkit-tap-highlight-color:transparent}.mole.hidden[_ngcontent-%COMP%]{visibility:hidden;pointer-events:none}.mole.dobby[_ngcontent-%COMP%]{background:url(dobby.9bea413cbc735973.png) no-repeat center;background-size:contain}.mole.kreacher[_ngcontent-%COMP%]{background:url(kreacher.eda96b7229622d07.png) no-repeat center;background-size:contain}"],changeDetection:0});class Q{constructor(e,a,l){this.messageService=e,this.prizeService=a,this.puzzleService=l}showWelcomeMessage(){return this.messageService.showIfNotLastSeen({message:"\n      <p>O tej porze roku Kevin mo\u017ce si\u0119 z czystym sumieniem objada\u0107 pysznymi pierniczkami. Jest tylko jeden problem...</p>\n      <p>Wygl\u0105da na to, \u017ce kto\u015b kolaborowa\u0142 z Grinchem i dosypa\u0142 co\u015b do ciasteczek!</p>\n      <p>To\u017csamo\u015b\u0107 kolaboarnta ukryta zosta\u0142a w ciasteczkach bez domieszki. Dowied\u017a si\u0119, kto macza\u0142 w tym palce i nie dopu\u015b\u0107, by Kevin si\u0119 zatru\u0142!</p>\n      <p>I jeszcze jedno. Je\u015bli nie b\u0119dziesz mog\u0142a poradzi\u0107 sobie z zadaniem, wr\xf3\u0107 do centrum dowodzenia i wykonaj ponowny skok.</p>\n    ",actions:[{text:"Mniam, ciastka!"}]})}showSuccessMessage(){this.messageService.setMessage("\n      <p>A wi\u0119c to ten nicpo\u0144 sprzymierzy\u0142 si\u0119 z Grinchem? W tym roku w rakiecie b\u0119dzie tylko r\xf3zga, Prizon Mike!</p>\n      <p>A Ty, agencie, szykuj si\u0119 na swoj\u0105 nagrod\u0119.</p>\n    "),this.messageService.showMessage({actions:[{text:"Co to takiego?"}]}).subscribe(()=>{this.puzzleService.marAsCompleted(L.Q.Memory),this.prizeService.awardAndShowPrize(nt.L$.ChooseTvSeries)})}}Q.\u0275fac=function(e){return new(e||Q)(o.LFG(q.e),o.LFG(A),o.LFG(L.N))},Q.\u0275prov=o.Yz7({token:Q,factory:Q.\u0275fac,providedIn:"root"});var ct=d(4859),at=d(7478);function rt(u,e){if(1&u){const a=o.EpF();o.TgZ(0,"div",6),o.NdJ("click",function(){const F=o.CHM(a).$implicit,J=o.oxw().$implicit,pt=o.oxw();return o.KtG(pt.onLetterClick(F,J))}),o._uU(1),o.qZA()}if(2&u){const a=e.$implicit;o.ekj("selected",a.revealed),o.Q6J("ngClass",a.type),o.xp6(1),o.hij(" ",a.text," ")}}function K(u,e){if(1&u&&(o.TgZ(0,"div",4),o.YNc(1,rt,2,4,"div",5),o.qZA()),2&u){const a=e.$implicit;o.xp6(1),o.Q6J("ngForOf",a.letters)}}class ut{constructor(e){this.messageService=e,this.showRefillText$=new c.X(!1),this.password="PRISON MIKE",this.wordPuzzles=[]}ngOnInit(){this.messageService.showWelcomeMessage();const e=this.password.split(" ");this.wordPuzzles=e.map(a=>new mt(a,8))}reset(){this.showRefillText$.next(!0),setTimeout(()=>{this.wordPuzzles.forEach(e=>e.reset()),this.showRefillText$.next(!1)},2e3)}onLetterClick(e,a){a.revealLetter(e),this.wordPuzzles.every(x=>x.isSolved())&&this.messageService.showSuccessMessage()}}ut.\u0275fac=function(e){return new(e||ut)(o.Y36(Q))},ut.\u0275cmp=o.Xpm({type:ut,selectors:[["um-memory"]],decls:8,vars:5,consts:[[1,"memory-puzzle"],["class","word",4,"ngFor","ngForOf"],[1,"show-refill-text"],["mat-mini-fab","",1,"refill-button",3,"click"],[1,"word"],["class","letter","umExplosion","\u{1f36a}",3,"selected","ngClass","click",4,"ngFor","ngForOf"],["umExplosion","\u{1f36a}",1,"letter",3,"ngClass","click"]],template:function(e,a){1&e&&(o.TgZ(0,"div",0),o.YNc(1,K,2,1,"div",1),o.qZA(),o.TgZ(2,"p",2),o.ALo(3,"async"),o._uU(4," WI\u0118CEJ!!! "),o.qZA(),o.TgZ(5,"button",3),o.NdJ("click",function(){return a.reset()}),o.TgZ(6,"mat-icon"),o._uU(7,"cookie"),o.qZA()()),2&e&&(o.xp6(1),o.Q6J("ngForOf",a.wordPuzzles),o.xp6(1),o.ekj("show",o.lcZ(3,3,a.showRefillText$)))},dependencies:[h.mk,h.sg,w,ct.nh,at.Hw,h.Ov],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;align-items:center;padding:56px 0;background:url(memory-background.95fb599b5c8215b9.jpg) no-repeat center;background-size:cover}.memory-puzzle[_ngcontent-%COMP%]{width:100%}.word[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(4,1fr);grid-gap:10px;justify-items:center;align-items:center;padding:.5rem 2rem;background:url(baking-sheet.cd0424e54d0dfb14.png) no-repeat center;background-size:contain}.letter[_ngcontent-%COMP%]{display:inline-block;width:40px;height:40px;line-height:40px;text-align:center;font-size:30px;font-weight:700;cursor:pointer;opacity:1;transition:opacity 1s .5s ease;color:transparent}.letter.type-1[_ngcontent-%COMP%]{background:url(gingerbread-man-1.29aead5b519c9988.png) no-repeat center;background-size:contain}.letter.type-2[_ngcontent-%COMP%]{background:url(gingerbread-man-2.2fe38b70c8285b05.png) no-repeat center;background-size:contain}.letter.type-3[_ngcontent-%COMP%]{background:url(gingerbread-man-3.fb9bb14b71ee6d9b.png) no-repeat center;background-size:contain}.letter.selected[_ngcontent-%COMP%]{color:#834005;background:none;opacity:0;pointer-events:none}.refill-button[_ngcontent-%COMP%]{background-color:#fffc;color:#da8d39}.show-refill-text[_ngcontent-%COMP%]{color:#222;font-size:1.5rem;background-color:#fffa;padding:.5rem;border-radius:5px;opacity:0;transition:all .1s ease-in}.show-refill-text.show[_ngcontent-%COMP%]{opacity:1}"],changeDetection:0});class mt{constructor(e,a){this.word=e,this.answers=[],this.letters=this.generatePuzzleLetters(e,a).map(l=>new Pt(l))}revealLetter(e){e.reveal(),this.answers.push(e)}getAnswer(){return this.answers.map(e=>e.text).join("")}reset(){this.answers=[],this.letters.forEach(e=>e.reset())}generatePuzzleLetters(e,a){const l=e.split(""),x=[...l];for(let F=0;F<a-l.length;F++)x.push(String.fromCharCode(65+Math.floor(26*Math.random())));return x.sort(()=>Math.random()-.5)}isSolved(){return this.getAnswer()===this.word}}class Pt{constructor(e){this.text=e,this.revealed=!1,this.type=["type-1","type-2","type-3"][Math.floor(3*Math.random())]}reveal(){this.revealed=!0}reset(){this.revealed=!1}}var m=d(6787),b=d(8723),f=d(3753),z=d(826),R=d(9054);function Y(u){return function(a){return a.lift(new st(u))}}class st{constructor(e){this.closingNotifier=e}call(e,a){return a.subscribe(new gt(e,this.closingNotifier))}}class gt extends z.L{constructor(e,a){super(e),this.buffer=[],this.add((0,R.D)(this,a))}_next(e){this.buffer.push(e)}notifyNext(e,a,l,x,F){const J=this.buffer;this.buffer=[],this.destination.next(J)}}var ot=d(2198);const At={leading:!0,trailing:!1};class Gt{constructor(e,a,l){this.durationSelector=e,this.leading=a,this.trailing=l}call(e,a){return a.subscribe(new Yt(e,this.durationSelector,this.leading,this.trailing))}}class Yt extends z.L{constructor(e,a,l,x){super(e),this.destination=e,this.durationSelector=a,this._leading=l,this._trailing=x,this._hasValue=!1}_next(e){this._hasValue=!0,this._sendValue=e,this._throttled||(this._leading?this.send():this.throttle(e))}send(){const{_hasValue:e,_sendValue:a}=this;e&&(this.destination.next(a),this.throttle(a)),this._hasValue=!1,this._sendValue=null}throttle(e){const a=this.tryDurationSelector(e);a&&this.add(this._throttled=(0,R.D)(this,a))}tryDurationSelector(e){try{return this.durationSelector(e)}catch(a){return this.destination.error(a),null}}throttlingDone(){const{_throttled:e,_trailing:a}=this;e&&e.unsubscribe(),this._throttled=null,a&&this.send()}notifyNext(e,a,l,x,F){this.throttlingDone()}notifyComplete(){this.throttlingDone()}}class Kt{}class bt{constructor(e){this.vibrations=e}transmit(e){const a=(0,b.H)(2e4,2e4);return(0,f.R)(window,"deviceorientation").pipe(Y(a),(0,P.U)(x=>this.isSteady(x)),(0,ot.h)(Boolean),function jt(u,e=At){return a=>a.lift(new Gt(u,e.leading,e.trailing))}(()=>this.vibrations.transmit(e)))}isSteady(e){const[a,l]=this.minMax(e);return[l.beta-a.beta,l.gamma-a.gamma].every(x=>x<10)}minMax(e){return e.reduce(([a,l],x)=>[{alpha:Math.min(a.alpha,x.alpha),beta:Math.min(a.alpha,x.beta),gamma:Math.min(a.alpha,x.gamma)},{alpha:Math.max(a.alpha,x.alpha),beta:Math.max(a.alpha,x.beta),gamma:Math.max(a.alpha,x.gamma)}],[{alpha:0,beta:0,gamma:0},{alpha:0,beta:0,gamma:0}])}}bt.\u0275fac=function(e){return new(e||bt)(o.LFG(Kt))},bt.\u0275prov=o.Yz7({token:bt,factory:bt.\u0275fac,providedIn:"root"});var kt=d(537),Vt=d(2994),Ht=d(1764);class dt{transmit(e){const a=this.vibrations(e);return navigator.vibrate(a),this.emitAfterFinished(a)}vibrations(e){const a=[];return e.forEach(l=>{a.push(dt.VIBRATION_DURATION),a.push(l-dt.VIBRATION_DURATION)}),a}emitAfterFinished(e){const a=e.reduce((l,x)=>l+x,0);return(0,b.H)(a)}}dt.VIBRATION_DURATION=100,dt.\u0275fac=function(e){return new(e||dt)},dt.\u0275prov=o.Yz7({token:dt,factory:dt.\u0275fac,providedIn:"root"});class _t{constructor(e,a,l){this.messageService=e,this.prizeService=a,this.puzzleService=l}showWelcomeMessage(){return this.messageService.showIfNotLastSeen({message:"\n      <p>Tym razem Grinch zawita\u0142 na Lwi\u0105 Ska\u0142\u0119. Mufasa jak co roku mia\u0142 zabra\u0107 syna by upolowa\u0107 \u015bwi\u0105teczn\u0105 antylop\u0119, ale kto\u015b mu dosypa\u0142 proszk\xf3w nasennych i za nic nie da si\u0119 go dobudzi\u0107.</p>\n      <p>W dodatku, gdy Mufasa \u015bpi naprawd\u0119 g\u0142\u0119boko, bardzo dziwnie chrapie.</p>\n      <p>Pom\xf3\u017c Simbie obudzi\u0107 rodzic\xf3w. Kto wie ile wsp\xf3lnych \u015awi\u0105t im zosta\u0142o...</p>\n    ",actions:[{text:"STARY! WSTAWAJ!!!"}]})}showSuccessMessage(){this.messageService.setMessage("\n      <p>\u015awietna robota! Co za wyczucie rytmu!</p>\n      <p>Grinch s\u0142ysz\u0105c twoje zagrzewaj\u0105ce do boju bembnienie uciek\u0142 gdzie pieprz ro\u015bnie.</p>\n    "),this.messageService.showMessage({actions:[{text:"A nagroda?"}]}).subscribe(()=>{this.puzzleService.marAsCompleted(L.Q.Drum),this.prizeService.awardAndShowPrize(nt.L$.Breakfast)})}}_t.\u0275fac=function(e){return new(e||_t)(o.LFG(q.e),o.LFG(A),o.LFG(L.N))},_t.\u0275prov=o.Yz7({token:_t,factory:_t.\u0275fac,providedIn:"root"});class Et{constructor(e,a,l){this.transmit=e,this.messageService=a,this.changeDetector=l,this.valid=!1,this.destroy$=new B.xQ,this.rhythm=[400,400,200,200,400,200,200,200,400,200,200],this.isListening=!1,this.clicks$=new B.xQ}ngOnInit(){this.messageService.showWelcomeMessage().subscribe(()=>{this.transmit.transmit(this.rhythm).pipe((0,_.R)(this.destroy$)).subscribe()})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}onDrumClick(){navigator.vibrate(100),this.isListening||this.validateRhythm(),this.clicks$.next()}validateRhythm(){const a=(0,y.of)(1).pipe((0,S.g)(1e4));this.isListening=!0,this.clicks$.pipe((0,kt.x)(()=>this.isListening=!1),(0,P.U)(()=>Ht()),(0,Z.R)((l,x)=>[...l,x],[]),(0,P.U)(l=>l.map((x,F)=>l[F+1]?.diff(x,"ms")||this.rhythm[this.rhythm.length-1])),(0,_.R)((0,m.T)(a,this.destroy$)),(0,Vt.b)(console.log),(0,ot.h)(l=>l.length===this.rhythm.length),(0,P.U)(l=>function ie(u,e){return u.every((a,l)=>Math.abs(a-e[l])<100)}(this.rhythm,l))).subscribe(l=>{console.log("valid:",l),this.valid=l,this.changeDetector.detectChanges(),l&&setTimeout(()=>this.messageService.showSuccessMessage(),3e3)})}}Et.\u0275fac=function(e){return new(e||Et)(o.Y36(bt),o.Y36(_t),o.Y36(o.sBO))},Et.\u0275cmp=o.Xpm({type:Et,selectors:[["um-drum-puzzle"]],hostVars:2,hostBindings:function(e,a){2&e&&o.ekj("valid",a.valid)},features:[o._Bn([bt,{provide:Kt,useExisting:dt}])],decls:1,vars:0,consts:[[1,"drum",3,"click"]],template:function(e,a){1&e&&(o.TgZ(0,"div",0),o.NdJ("click",function(){return a.onDrumClick()}),o.qZA())},styles:["[_nghost-%COMP%]{display:block;background:url(lion-king-sleep.2cd75a99f97316be.png) no-repeat center 0;background-size:cover;background-position:0}.valid[_nghost-%COMP%]{background:url(lion-king-wake-up.878c45b68e85c026.png) no-repeat center 0;background-size:cover;background-position:25%}.drum[_ngcontent-%COMP%]{position:absolute;inset:25% 0 20%}"],changeDetection:0});var Bt=d(7545);class yt{constructor(e,a,l){this.messageService=e,this.prizeService=a,this.puzzleService=l}showWelcomeMessage(){return this.messageService.showIfNotLastSeen({message:"\n      <p>Indiana w\u0142a\u015bnie spakowa\u0142 do torby antyczn\u0105 bombk\u0119 i \u015bpieszy si\u0119 na samolot do domu, \u017ceby zd\u0105\u017cy\u0107 na \u015awi\u0119ta. Wszystko by\u0142oby pi\u0119knie, gdyby kto\u015b nie dosypa\u0142 proszku do pieczenia do dawno u\u015bpionego super-wulkanu.</p>\n      <p>Doprowad\u017a Indian\u0119 na stabilny grunt. Pospiesz si\u0119, inaczej ucieknie mu samolot!</p>\n    ",actions:[{text:"Biegnij, Jones! Biegnij!"}]})}showSuccessMessage(){this.messageService.setMessage("\n      <p>Gratulacje! Z pozosta\u0142\u0105 cz\u0119\u015bci\u0105 drogi Jones powinien ju\u017c sobie poradzi\u0107. Do odlotu zosta\u0142o 0:14:27, wi\u0119c spokojnie jeszcze zd\u0105\u017cy.</p>\n      <p>Wygl\u0105da na to, \u017ce nasz psotnik uciek\u0142 jeszcze zanim si\u0119 w og\xf3le pojawili\u015bmy przy wulkanie. Musimy go szuka\u0107 dalej.</p>\n      <p>A tymczasem przyznali\u015bmy Ci kolejn\u0105 nagrod\u0119.</p>\n    "),this.messageService.showMessage({actions:[{text:"Nast\u0119pnym razem nam si\u0119 uda!"}]}).subscribe(()=>{this.puzzleService.marAsCompleted(L.Q.UnstablePath),this.prizeService.awardAndShowPrize(nt.L$.Sauna)})}}function Qt(u,e){1&u&&o._UZ(0,"div",9)}function qt(u,e){if(1&u){const a=o.EpF();o.TgZ(0,"div",7),o.NdJ("click",function(){const F=o.CHM(a).$implicit,J=o.oxw(3);return o.KtG(J.onElementClick(F))}),o.ALo(1,"async"),o.YNc(2,Qt,1,0,"div",8),o.qZA()}if(2&u){const a=e.$implicit,l=e.index,x=o.oxw().index,F=o.oxw().ngIf;o.ekj("active",F.x===l&&F.y===x)("fallen",o.lcZ(1,5,a.fallen$)),o.xp6(2),o.Q6J("ngIf",l===F.x&&x===F.y)}}function Lt(u,e){if(1&u&&(o.TgZ(0,"div",5),o.YNc(1,qt,3,7,"div",6),o.qZA()),2&u){const a=e.$implicit;o.xp6(1),o.Q6J("ngForOf",a)}}function te(u,e){if(1&u&&(o.TgZ(0,"div",3),o.YNc(1,Lt,2,1,"div",4),o.qZA()),2&u){const a=o.oxw();o.xp6(1),o.Q6J("ngForOf",a.map)}}yt.\u0275fac=function(e){return new(e||yt)(o.LFG(q.e),o.LFG(A),o.LFG(L.N))},yt.\u0275prov=o.Yz7({token:yt,factory:yt.\u0275fac,providedIn:"root"});class Ot{constructor(e){this.messageService=e,this.destroy$=new B.xQ,this.config={maxUnstableInARow:2},this.position$=new c.X(void 0),this.gameStatus$=new c.X("in progress")}ngOnInit(){this.messageService.showWelcomeMessage(),this.initGame();const e=this.position$.pipe((0,Bt.w)(l=>l.fallen$),(0,ot.h)(l=>l)),a=this.position$.pipe((0,Z.R)((l,x)=>x.stable?0:l+1,0),(0,ot.h)(l=>l>=this.config.maxUnstableInARow));(0,m.T)(e,a).pipe((0,_.R)(this.gameStatus$.pipe((0,ot.h)(l=>"won"===l))),(0,_.R)(this.destroy$)).subscribe(()=>this.gameStatus$.next("lost")),this.position$.pipe((0,ot.h)(l=>0===l.y),(0,D.q)(1),(0,_.R)(this.destroy$)).subscribe(()=>{this.gameStatus$.next("won"),setTimeout(()=>this.messageService.showSuccessMessage(),1500)})}onElementClick(e){"in progress"===this.gameStatus$.value&&function re(u,e){const{x:a,y:l}=e;return Math.abs(u.x-a)+Math.abs(u.y-l)===1}(this.position$.value,e)&&(navigator.vibrate(50),e.stepOn(),this.position$.next(e))}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}reset(){this.gameStatus$.next("in progress"),this.initGame()}initGame(){const e=[[1,1,1,1,1,1,1,1],[0,0,0,0,0,0,1,0],[0,0,0,0,0,0,1,0],[0,0,0,0,1,1,1,0],[0,0,0,0,1,0,0,0],[1,1,1,1,1,0,0,0],[0,0,0,0,0,0,0,0],[1,1,1,1,0,0,0,0],[0,0,1,0,0,0,0,0],[1,1,1,1,1,1,1,1]];this.map=e.map((l,x)=>l.map((F,J)=>new ae({x:J,y:x,stable:F,steady:0===x||x===e.length-1}))),this.position$.next(this.map[e.length-1][4])}}Ot.\u0275fac=function(e){return new(e||Ot)(o.Y36(yt))},Ot.\u0275cmp=o.Xpm({type:Ot,selectors:[["um-unstable-path"]],decls:7,vars:7,consts:[["class","map",4,"ngIf"],[1,"game-over-wrapper"],["mat-mini-fab","",1,"refill-button",3,"click"],[1,"map"],["class","map-row",4,"ngFor","ngForOf"],[1,"map-row"],["class","map-element",3,"active","fallen","click",4,"ngFor","ngForOf"],[1,"map-element",3,"click"],["class","pawn",4,"ngIf"],[1,"pawn"]],template:function(e,a){1&e&&(o.YNc(0,te,2,1,"div",0),o.ALo(1,"async"),o.TgZ(2,"div",1)(3,"button",2),o.NdJ("click",function(){return a.reset()}),o.ALo(4,"async"),o.TgZ(5,"mat-icon"),o._uU(6,"replay"),o.qZA()()()),2&e&&(o.Q6J("ngIf",o.lcZ(1,3,a.position$)),o.xp6(3),o.Udp("visibility","lost"===o.lcZ(4,5,a.gameStatus$)?"visible":"hidden"))},dependencies:[h.sg,h.O5,ct.nh,at.Hw,h.Ov],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;justify-content:space-around;background:url(lava-background.4597e64dbb0b6494.jpg) no-repeat center;background-size:cover;padding:56px 0}.map-row[_ngcontent-%COMP%]{display:flex;width:100%;justify-content:center}.map-row[_ngcontent-%COMP%]:first-of-type   .map-element[_ngcontent-%COMP%], .map-row[_ngcontent-%COMP%]:last-of-type   .map-element[_ngcontent-%COMP%]{filter:brightness(1.4)}.map-row[_ngcontent-%COMP%]:first-of-type   .map-element.active[_ngcontent-%COMP%], .map-row[_ngcontent-%COMP%]:last-of-type   .map-element.active[_ngcontent-%COMP%]{animation:none}.map-element[_ngcontent-%COMP%]{width:12vw;height:12vw;background:url(stone.1c2a56e9e4895c90.png) no-repeat center;background-size:contain;opacity:1;transition:all .25s ease-in}.map-element.active[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_shake .5s infinite}.map-element.fallen[_ngcontent-%COMP%]{opacity:0}.map-element[_ngcontent-%COMP%]   .pawn[_ngcontent-%COMP%]{background:url(indiana.1673a22b4156202e.png) no-repeat center;background-size:contain;width:80%;height:80%;background-position:90%;filter:brightness(1.2)}.game-over-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.game-over-wrapper[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#fffc;color:#fb421b}@keyframes _ngcontent-%COMP%_shake{0%{transform:translate(1px,1px) rotate(0)}20%{transform:translate(-1px) rotate(1deg)}40%{transform:translate(1px,-1px) rotate(1deg)}60%{transform:translate(-1px,1px) rotate(0)}80%{transform:translate(-1px,-1px) rotate(1deg)}to{transform:translate(1px,-1px) rotate(-1deg)}}"],changeDetection:0});class ae{constructor({x:e,y:a,stable:l,steady:x}){this.fallen$=new c.X(!1),this.x=e,this.y=a,this.stable=l,this.steady=x,this.stabilityDuration=x?1/0:l?2500:500}stepOn(){this.steady||setTimeout(()=>this.fallen$.next(!0),this.stabilityDuration)}}var Dt=d(6053);const $t=["\u{1f30e} \u{1f476} \u{1f92a} \u{1f525} \u2744\ufe0f \u{1f974} \u{1f9f1} \u{1f4a9} \u{1f30b} \u2600\ufe0f \u2600\ufe0f","\u{1f914} \u{1f4cf} \u{1f52d} \u{1f440} \u{1f331} \u{1f332} \u{1f64c} \u{1f3e1} \u{1f634}","\u{1f3f3}\ufe0f \u{1f468} \u{1f402} \u{1f91c} \u274c \u{1f90f} \u{1f924} \u{1f3c6} \u274c \u{1f9df} \u274c \u{1f92a} \u274c \u{1f422} \u{1f424}","\u{1f91c} \u2694\ufe0f \u274c \u{1f45e} \u27a1\ufe0f \u{1f3c6} \u23ea \u{1f466} \u23e9 \u{1f9b8}\u{1f3fc}\u200d\u2642\ufe0f"];class ht{constructor(e,a,l){this.messageService=e,this.prizeService=a,this.puzzleService=l}showWelcomeMessage(){return this.messageService.showIfNotLastSeen({message:"\n      <p>Wed\u0142ug staro\u017cytnej tradycji wykonawca najlepszego przedstawienia \u015bwi\u0105tecznego zostaje zaproszony na Olimp, by pokaza\u0107 je samym bogom. To jedyna okazja, by Hercules sp\u0119dzi\u0142 czas z rodzicami.</p>\n      <p>Wszystko sz\u0142o doskonale, uk\u0142ad taneczny by\u0142 ju\u017c doszlifowany... do momentu a\u017c kto\u015b pomiesza\u0142 kompletnie tekst! Podejrzewamy, \u017ce Grinch nam\xf3wi\u0142 na ten paskudny gest Hadesa.</p>\n      <p>Pom\xf3\u017c Herculesowi przygotowa\u0107 wyst\u0119p wskazuj\u0105c odpowiedni\u0105 kolejno\u015b\u0107 dzban\xf3w, by m\xf3g\u0142 zobaczy\u0107 rodzic\xf3w ten jeden kolejny raz.</p>\n    ",actions:[{text:"i raz i dwa i trzy i cztery i"}]})}showSuccessMessage(){this.messageService.setMessage("\n      <p>Woooow co to by\u0142o za szo\u0142! Z tak dopracowanym uk\u0142adam Hercules bez problemu dosta\u0142 pierwsze miejsce.</p>\n      <p>Pr\xf3bowali\u015bmy z\u0142apa\u0107 Grincha gdy rzuca\u0142 pomidorami z widowni, ale uciek\u0142 nam w ostatniej chwili. Oby to by\u0142 ostatni raz!</p>\n      <p>A tymczasem przyznali\u015bmy Ci kolejn\u0105 nagrod\u0119.</p>\n    "),this.messageService.showMessage({actions:[{text:"Nast\u0119pnym razem Ci\u0119 dopadn\u0119, Grinch!"}]}).subscribe(()=>{this.puzzleService.marAsCompleted(L.Q.Songs),this.prizeService.awardAndShowPrize(nt.L$.Theatre)})}}function ee(u,e){if(1&u){const a=o.EpF();o.TgZ(0,"div",5),o.NdJ("click",function(){const F=o.CHM(a).$implicit,J=o.oxw(2);return o.KtG(J.onWordClick(F))}),o.TgZ(1,"span"),o._uU(2),o.qZA()()}if(2&u){const a=e.$implicit;o.ekj("used",a.isUsed),o.xp6(2),o.Oqu(a.text)}}function ne(u,e){if(1&u){const a=o.EpF();o.ynx(0),o.TgZ(1,"div",1),o.YNc(2,ee,3,3,"div",2),o.qZA(),o.TgZ(3,"div",3)(4,"button",4),o.NdJ("click",function(){const F=o.CHM(a).ngIf,J=o.oxw();return o.KtG(J.reset(F))}),o.TgZ(5,"mat-icon"),o._uU(6,"replay"),o.qZA()()(),o.BQk()}if(2&u){const a=e.ngIf;o.xp6(2),o.Q6J("ngForOf",a)}}ht.\u0275fac=function(e){return new(e||ht)(o.LFG(q.e),o.LFG(A),o.LFG(L.N))},ht.\u0275prov=o.Yz7({token:ht,factory:ht.\u0275fac,providedIn:"root"});class Rt{constructor(e){this.messageService=e,this.songs=$t,this.currentSongIdx$=new c.X(0),this.destroy$=new B.xQ,this.answer$=new c.X([]),this.currentPuzzle$=this.currentSongIdx$.pipe((0,P.U)(a=>this.songs[a]),(0,ot.h)(a=>!!a),(0,P.U)(a=>a.split(" ").map(l=>new xt(l)).sort(()=>Math.random()-.5)))}ngOnInit(){this.messageService.showWelcomeMessage(),(0,Dt.aj)([this.answer$,this.currentSongIdx$]).pipe((0,ot.h)(([e,a])=>e.join(" ")===this.songs[a]),(0,_.R)(this.destroy$)).subscribe(()=>{this.onCorrectWordOrder()})}onWordClick(e){e.use(),this.answer$.next([...this.answer$.value,e.text])}reset(e){e.forEach(a=>a.reset()),this.answer$.next([])}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}onCorrectWordOrder(){const e=this.currentSongIdx$.value+1;e>=this.songs.length&&this.messageService.showSuccessMessage(),this.currentSongIdx$.next(e),this.answer$.next([])}}Rt.\u0275fac=function(e){return new(e||Rt)(o.Y36(ht))},Rt.\u0275cmp=o.Xpm({type:Rt,selectors:[["um-song-anagram"]],decls:2,vars:3,consts:[[4,"ngIf"],[1,"song"],["class","word","umExplosion","\u{1f9f1}",3,"used","click",4,"ngFor","ngForOf"],[1,"refresh"],["mat-mini-fab","",1,"refresh-button","transparent-bg",3,"click"],["umExplosion","\u{1f9f1}",1,"word",3,"click"]],template:function(e,a){1&e&&(o.YNc(0,ne,7,1,"ng-container",0),o.ALo(1,"async")),2&e&&o.Q6J("ngIf",o.lcZ(1,1,a.currentPuzzle$))},dependencies:[h.sg,h.O5,w,ct.nh,at.Hw,h.Ov],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;justify-content:space-around;background:url(song-anagram-background.505b7d1043b02cf2.jpg) no-repeat 70%;background-size:cover;padding:56px 0}.song[_ngcontent-%COMP%]{display:grid;justify-content:center;grid-template-columns:repeat(3,20vmin);grid-gap:16px;align-items:center;justify-items:center;font-size:5vmin}.word[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:20vmin;height:20vmin;background:url(jar.1abb629646411e84.png) no-repeat center;background-size:contain;opacity:1;transition:all .25s ease-in}.word.used[_ngcontent-%COMP%]{opacity:0}.refresh[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.refresh[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{color:#222;background-color:transparent}"],changeDetection:0});class xt{constructor(e){this.text=e,this.isUsed=!1}use(){this.isUsed=!0}reset(){this.isUsed=!1}}class it{constructor(e,a,l){this.messageService=e,this.prizeService=a,this.puzzleService=l}showWelcomeMessage(){return this.messageService.showIfNotLastSeen({message:"\n      <p>Tym razem go mamy! Kiedy byli\u015bmy zaj\u0119ci szukaniem Grincha po \u015bwiatach, ten skubaniec zakrad\u0142 si\u0119 do wioski Miko\u0142aja p\u0142ata\u0107 mu figle. Zd\u0105\u017cy\u0142 ju\u017c sp\u0142oszy\u0107 renifery, roz\u0142adowa\u0107 akumulator w saniach i zrobi\u0107 dziur\u0119 w worku Miko\u0142aja.</p>\n      <p>Wygl\u0105da na to, \u017ce kompletnie si\u0119 nas nie spodziewa. Lepszej szansy nie b\u0119dzie. Poka\u017c Grinchowi gdzie jego miejsce!</p>\n    ",actions:[{text:"ZA NARNIE! ZA ASLANA!!!"}]})}showWinMessage(){this.messageService.setMessage("\n      <p>Wspa\u0142ania robota! Grinch le\u017cy powalony na deski.</p>\n      <p>Pakujemy go do wora i leci prosto do paki. Gratulacje, agencie. Nie wiem co by\u015bmy bez Ciebie zrobili.</p>\n      <p>Misja zako\u0144czy\u0142a si\u0119 sukcesem - \u015awi\u0119ta s\u0105 uratowane. Wracaj do rodziny, ciesz si\u0119 tym czasem i ostateczn\u0105 nagrod\u0105.</p>\n      <p>Weso\u0142ych \u015awi\u0105t!</p>\n    "),this.messageService.showMessage({actions:[{text:"S\u0142u\u017cba by\u0142a dla mnie przyjemno\u015bci\u0105. Bywaj!"}]}).subscribe(()=>{this.puzzleService.marAsCompleted(L.Q.Battle),this.prizeService.awardAndShowPrize(nt.L$.Bite)})}}it.\u0275fac=function(e){return new(e||it)(o.LFG(q.e),o.LFG(A),o.LFG(L.N))},it.\u0275prov=o.Yz7({token:it,factory:it.\u0275fac,providedIn:"root"});var le=d(5254);class wt{constructor(){this.isCharging$=new c.X(!1),this.getBattery().pipe((0,Bt.w)(e=>(0,f.R)(e,"chargingchange").pipe((0,P.U)(()=>e.charging),(0,I.O)(e.charging)))).subscribe(this.isCharging$)}getBatteryLevel(){return this.getBattery().pipe((0,Bt.w)(e=>(0,f.R)(e,"levelchange").pipe((0,P.U)(()=>e.level))))}getBattery(){return(0,le.D)(navigator.getBattery())}ngOnDestroy(){this.isCharging$.complete()}}wt.\u0275fac=function(e){return new(e||wt)},wt.\u0275prov=o.Yz7({token:wt,factory:wt.\u0275fac,providedIn:"root"});var Zt=d(5778);class Mt{constructor(){this.relaxed$=new c.X(!1);const e=(0,b.H)(5e3,5e3);(0,f.R)(window,"deviceorientation").pipe(Y(e),(0,P.U)(l=>this.isSteady(l)),(0,Zt.x)()).subscribe(this.relaxed$)}isSteady(e){const[a,l]=this.minMax(e);return[l.beta-a.beta,l.gamma-a.gamma].every(x=>x<10)}minMax(e){return e.reduce(([a,l],x)=>[{alpha:Math.min(a.alpha,x.alpha),beta:Math.min(a.alpha,x.beta),gamma:Math.min(a.alpha,x.gamma)},{alpha:Math.max(a.alpha,x.alpha),beta:Math.max(a.alpha,x.beta),gamma:Math.max(a.alpha,x.gamma)}],[{alpha:0,beta:0,gamma:0},{alpha:0,beta:0,gamma:0}])}}Mt.\u0275fac=function(e){return new(e||Mt)},Mt.\u0275prov=o.Yz7({token:Mt,factory:Mt.\u0275fac,providedIn:"root"});class Ft{constructor(e,a,l){this.messageService=e,this.batteryService=a,this.relaxService=l,this.destroy$=new B.xQ,this.gameIndex=0,this.configs=[{health:50,healingPerSecond:()=>0,damagePolicy:()=>1},{health:100,healingPerSecond:()=>6,damagePolicy:()=>3,grinchClassName$:(0,y.of)("left-and-right")},{health:200,healingPerSecond:()=>6,damagePolicy:()=>4,grinchClassName$:(0,y.of)("random-running")},{health:200,healingPerSecond:()=>Math.floor(20*Math.random())+10,damagePolicy:()=>this.batteryService.isCharging$.getValue()?14:4,grinchClassName$:(0,y.of)("random-running")},{health:200,healingPerSecond:()=>Math.floor(20*Math.random())+10,damagePolicy:()=>{const x=!this.batteryService.isCharging$.getValue(),F=this.relaxService.relaxed$.getValue();return x&&F?14:4},grinchClassName$:(0,Dt.aj)([this.batteryService.isCharging$,this.relaxService.relaxed$]).pipe((0,P.U)(([x,F])=>`random-running ${F?"":"stressed"} ${x?"overcharged":""}`))}],this.health$=new c.X(this.config.health),this.missingHealthPercent$=this.health$.pipe((0,P.U)(x=>100*(this.config.health-x)/this.config.health))}get config(){return this.configs[this.gameIndex]}ngOnInit(){this.messageService.showWelcomeMessage().subscribe(()=>{this.startGame()})}onHit(){const e=this.configs[this.gameIndex].damagePolicy(),a=this.health$.getValue(),l=Math.max(a-e,0);this.health$.next(l)}startGame(){this.health$.next(this.config.health);const e=this.health$.pipe((0,ot.h)(a=>a<=0),(0,D.q)(1),(0,_.R)(this.destroy$));(0,b.H)(1e3,1e3).pipe((0,ot.h)(()=>this.health$.getValue()<this.config.health),(0,_.R)(e)).subscribe(()=>{const a=this.health$.getValue()+this.config.healingPerSecond(),l=Math.min(a,this.config.health);this.health$.next(l)}),e.subscribe(()=>{setTimeout(()=>{this.gameIndex++,this.gameIndex<this.configs.length?this.startGame():this.messageService.showWinMessage()},3e3)})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}Ft.\u0275fac=function(e){return new(e||Ft)(o.Y36(it),o.Y36(wt),o.Y36(Mt))},Ft.\u0275cmp=o.Xpm({type:Ft,selectors:[["um-battle"]],decls:15,vars:24,consts:[[1,"health-bar__container"],[1,"health-bar"],[1,"health-bar__text"],[1,"grinch-wrapper"],["umExplosion","-1","explodeRadius","30",1,"grinch",3,"ngClass","explodeFromCenter","explodePoints"],["mat-mini-fab","",1,"hit-button",3,"disabled","click"]],template:function(e,a){1&e&&(o.TgZ(0,"div",0),o.ALo(1,"async"),o._UZ(2,"div",1),o.ALo(3,"async"),o.TgZ(4,"span",2),o._uU(5),o.ALo(6,"async"),o.qZA()(),o.TgZ(7,"div",3)(8,"div",4),o.ALo(9,"async"),o.ALo(10,"async"),o.TgZ(11,"button",5),o.NdJ("click",function(){return a.onHit()}),o.ALo(12,"async"),o.TgZ(13,"span"),o._uU(14,"\u2694\ufe0f"),o.qZA()()()()),2&e&&(o.ekj("low-health",o.lcZ(1,12,a.missingHealthPercent$)>=60),o.xp6(2),o.Udp("left",-o.lcZ(3,14,a.missingHealthPercent$),"%"),o.xp6(3),o.AsE("",o.lcZ(6,16,a.health$),"/",a.config.health,""),o.xp6(3),o.ekj("dead",o.lcZ(9,18,a.health$)<=0),o.Q6J("ngClass",o.lcZ(10,20,a.config.grinchClassName$))("explodeFromCenter",!0)("explodePoints",a.config.damagePolicy()),o.xp6(3),o.Q6J("disabled",o.lcZ(12,22,a.health$)<=0))},dependencies:[h.mk,w,ct.nh,h.Ov],styles:['[_nghost-%COMP%]{display:flex;flex-direction:column;padding:56px 0;justify-content:space-between;align-items:center;background:url(battle-background.4dd01c2bc7aa48ff.jpg) no-repeat center;background-size:cover;background-position:70%;overflow:hidden}[_nghost-%COMP%]     .particle{color:red;font-size:1rem;font-weight:700}[_nghost-%COMP%]   .grinch-wrapper[_ngcontent-%COMP%]{flex:1 1 auto;display:flex;justify-content:center;align-items:center}.health-bar__container[_ngcontent-%COMP%]{width:80%;height:1.5rem;border-radius:2rem;position:relative;overflow:hidden;transition:all .5s;will-change:transform;box-shadow:0 0 5px #ffdf42;background-color:#d5d5d5}.health-bar__container.low-health[_ngcontent-%COMP%]{box-shadow:0 0 5px #850202}.health-bar__container.low-health[_ngcontent-%COMP%]   .health-bar[_ngcontent-%COMP%]{background-color:#850202}.health-bar__container.low-health[_ngcontent-%COMP%]   .health-bar__text[_ngcontent-%COMP%]{color:#850202}.health-bar[_ngcontent-%COMP%]{position:absolute;height:100%;width:100%;content:"";background-color:#6e971f;top:0;bottom:0;left:0%;border-radius:inherit;display:flex;justify-content:center;align-items:center;color:#fff;font-family:sans-serif}.health-bar__text[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);font-weight:700;color:#ffdf42;font-size:.9em}.grinch[_ngcontent-%COMP%]{height:40vh;width:30vh;background:url(grinch.db2b56d7d8cfd693.png) no-repeat center;background-size:contain;display:flex;justify-content:center;align-items:center;opacity:1;transition:all .25s ease-in}.grinch.left-and-right[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_left-and-right 1s ease-in-out infinite}.grinch.random-running[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_random-running 3s ease-in-out infinite}.grinch.overcharged[_ngcontent-%COMP%]{height:12vh;width:8vh}.grinch.stressed[_ngcontent-%COMP%]{animation-duration:1.5s}.grinch.dead[_ngcontent-%COMP%]{opacity:0}.hit-button[_ngcontent-%COMP%]{opacity:0;height:70%;width:70%}@keyframes _ngcontent-%COMP%_left-and-right{0%{transform:translate(0)}33%{transform:translate(-20vh)}66%{transform:translate(15vh)}to{transform:translate(0)}}@keyframes _ngcontent-%COMP%_random-running{0%{transform:translate(0)}10%{transform:translate(-20vh,-5vh)}20%{transform:translate(-20vh,-15vh)}30%{transform:translate(10vh)}40%{transform:translate(10vh,13vh)}50%{transform:translate(-10vh,25vh)}60%{transform:translate(-15vh,-10vh)}70%{transform:translateY(-20vh)}80%{transform:translate(10vh,-10vh)}90%{transform:translate(-10vh,-10vh)}to{transform:translate(0)}}'],changeDetection:0});const me=[{path:"hit-the-mole",component:$},{path:"memory",component:ut},{path:"drum",component:Et},{path:"unstable-path",component:Ot},{path:"songs",component:Rt},{path:"battle",component:Ft}];class zt{}zt.\u0275fac=function(e){return new(e||zt)},zt.\u0275mod=o.oAB({type:zt}),zt.\u0275inj=o.cJS({imports:[H.Bz.forChild(me),H.Bz]});class Ct{}Ct.\u0275fac=function(e){return new(e||Ct)},Ct.\u0275mod=o.oAB({type:Ct}),Ct.\u0275inj=o.cJS({imports:[h.ez,M.Q,zt,ct.ot,at.Ps]})},1715:(ft,G,d)=>{d.d(G,{F:()=>y});var h=d(6498),M=d(353),H=d(4241);function y(c=0,E=M.P){return(!(0,H.k)(c)||c<0)&&(c=0),(!E||"function"!=typeof E.schedule)&&(E=M.P),new h.y(S=>(S.add(E.schedule(B,c,{subscriber:S,counter:0,period:c})),S))}function B(c){const{subscriber:E,counter:S,period:I}=c;E.next(S),this.schedule({subscriber:E,counter:S+1,period:I},I)}},6232:(ft,G,d)=>{d.d(G,{d:()=>L});var h=d(8929),M=d(6686),y=d(2268);const c=new class B extends y.v{}(class H extends M.o{constructor(g,w){super(g,w),this.scheduler=g,this.work=w}schedule(g,w=0){return w>0?super.schedule(g,w):(this.delay=w,this.state=g,this.scheduler.flush(this),this)}execute(g,w){return w>0||this.closed?super.execute(g,w):this._execute(g,w)}requestAsyncId(g,w,j=0){return null!==j&&j>0||null===j&&this.delay>0?super.requestAsyncId(g,w,j):g.flush(this)}});var E=d(2654),S=d(3489),I=d(9312);class P extends S.L{constructor(g,w,j=0){super(g),this.scheduler=w,this.delay=j}static dispatch(g){const{notification:w,destination:j}=g;w.observe(j),this.unsubscribe()}scheduleMessage(g){this.destination.add(this.scheduler.schedule(P.dispatch,this.delay,new D(g,this.destination)))}_next(g){this.scheduleMessage(I.P.createNext(g))}_error(g){this.scheduleMessage(I.P.createError(g)),this.unsubscribe()}_complete(){this.scheduleMessage(I.P.createComplete()),this.unsubscribe()}}class D{constructor(g,w){this.notification=g,this.destination=w}}var Z=d(5279),V=d(5283);class o extends h.xQ{constructor(g=Number.POSITIVE_INFINITY,w=Number.POSITIVE_INFINITY,j){super(),this.scheduler=j,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=g<1?1:g,this._windowTime=w<1?1:w,w===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(g){const w=this._events;w.push(g),w.length>this._bufferSize&&w.shift(),super.next(g)}nextTimeWindow(g){this._events.push(new nt(this._getNow(),g)),this._trimBufferThenGetEvents(),super.next(g)}_subscribe(g){const w=this._infiniteTimeWindow,j=w?this._events:this._trimBufferThenGetEvents(),N=this.scheduler,tt=j.length;let U;if(this.closed)throw new Z.N;if(this.isStopped||this.hasError?U=E.w.EMPTY:(this.observers.push(g),U=new V.W(this,g)),N&&g.add(g=new P(g,N)),w)for(let $=0;$<tt&&!g.closed;$++)g.next(j[$]);else for(let $=0;$<tt&&!g.closed;$++)g.next(j[$].value);return this.hasError?g.error(this.thrownError):this.isStopped&&g.complete(),U}_getNow(){return(this.scheduler||c).now()}_trimBufferThenGetEvents(){const g=this._getNow(),w=this._bufferSize,j=this._windowTime,N=this._events,tt=N.length;let U=0;for(;U<tt&&!(g-N[U].time<j);)U++;return tt>w&&(U=Math.max(U,tt-w)),U>0&&N.splice(0,U),N}}class nt{constructor(g,w){this.time=g,this.value=w}}function L(A,g,w){let j;return j=A&&"object"==typeof A?A:{bufferSize:A,windowTime:g,refCount:!1,scheduler:w},N=>N.lift(function q({bufferSize:A=Number.POSITIVE_INFINITY,windowTime:g=Number.POSITIVE_INFINITY,refCount:w,scheduler:j}){let N,U,tt=0,$=!1,Q=!1;return function(at){tt++,(!N||$)&&($=!1,N=new o(A,g,j),U=at.subscribe({next(K){N.next(K)},error(K){$=!0,N.error(K)},complete(){Q=!0,U=void 0,N.complete()}}));const rt=N.subscribe(this);this.add(()=>{tt--,rt.unsubscribe(),U&&!Q&&w&&0===tt&&(U.unsubscribe(),U=void 0,N=void 0)})}}(j))}},4859:(ft,G,d)=>{d.d(G,{nh:()=>rt,ot:()=>C});var h=d(3353),M=d(4650),H=d(1505),y=d(3238);const c=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],E=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],k=["mat-mini-fab",""],L=[{selector:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{selector:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{selector:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{selector:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{selector:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{selector:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{selector:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],q=(0,y.pj)((0,y.Id)((0,y.Kr)(class{constructor(m){this._elementRef=m}})));let A=(()=>{class m extends q{constructor(f,z,R,Y){super(f),this._platform=z,this._ngZone=R,this._animationMode=Y,this._focusMonitor=(0,M.f3M)(H.tE),this._isFab=!1;const st=f.nativeElement.classList;for(const gt of L)this._hasHostAttributes(gt.selector)&&gt.mdcClasses.forEach(ot=>{st.add(ot)})}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(f="program",z){f?this._focusMonitor.focusVia(this._elementRef.nativeElement,f,z):this._elementRef.nativeElement.focus(z)}_hasHostAttributes(...f){return f.some(z=>this._elementRef.nativeElement.hasAttribute(z))}_isRippleDisabled(){return this.disableRipple||this.disabled}}return m.\u0275fac=function(f){M.$Z()},m.\u0275dir=M.lG2({type:m,viewQuery:function(f,z){if(1&f&&M.Gf(y.wG,5),2&f){let R;M.iGM(R=M.CRH())&&(z.ripple=R.first)}},features:[M.qOj]}),m})();const U=new M.OlP("mat-mdc-fab-default-options",{providedIn:"root",factory:$});function $(){return{color:"accent"}}const Q=$();let rt=(()=>{class m extends A{constructor(f,z,R,Y,st){super(f,z,R,Y),this._options=st,this._isFab=!0,this._options=this._options||Q,this.color=this.defaultColor=this._options.color||Q.color}}return m.\u0275fac=function(f){return new(f||m)(M.Y36(M.SBq),M.Y36(h.t4),M.Y36(M.R0b),M.Y36(M.QbO,8),M.Y36(U,8))},m.\u0275cmp=M.Xpm({type:m,selectors:[["button","mat-mini-fab",""]],hostVars:7,hostBindings:function(f,z){2&f&&(M.uIk("disabled",z.disabled||null),M.ekj("_mat-animation-noopable","NoopAnimations"===z._animationMode)("mat-unthemed",!z.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[M.qOj],attrs:k,ngContentSelectors:E,decls:8,vars:6,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],["matRipple","",1,"mat-mdc-button-ripple",3,"matRippleDisabled","matRippleTrigger"],[1,"mat-mdc-button-touch-target"]],template:function(f,z){1&f&&(M.F$t(c),M._UZ(0,"span",0),M.Hsn(1),M.TgZ(2,"span",1),M.Hsn(3,1),M.qZA(),M.Hsn(4,2),M._UZ(5,"span",2)(6,"span",3)(7,"span",4)),2&f&&(M.ekj("mdc-button__ripple",!z._isFab)("mdc-fab__ripple",z._isFab),M.xp6(6),M.Q6J("matRippleDisabled",z._isRippleDisabled())("matRippleTrigger",z._elementRef.nativeElement))},dependencies:[y.wG],styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-fab{position:relative;display:inline-flex;position:relative;align-items:center;justify-content:center;box-sizing:border-box;width:56px;height:56px;padding:0;border:none;fill:currentColor;text-decoration:none;cursor:pointer;user-select:none;-moz-appearance:none;-webkit-appearance:none;overflow:visible;transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1),opacity 15ms linear 30ms,transform 270ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-fab .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-fab[hidden]{display:none}.mdc-fab::-moz-focus-inner{padding:0;border:0}.mdc-fab .mdc-fab__focus-ring{position:absolute}.mdc-fab.mdc-ripple-upgraded--background-focused .mdc-fab__focus-ring,.mdc-fab:not(.mdc-ripple-upgraded):focus .mdc-fab__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    )}@media screen and (forced-colors: active){.mdc-fab.mdc-ripple-upgraded--background-focused .mdc-fab__focus-ring,.mdc-fab:not(.mdc-ripple-upgraded):focus .mdc-fab__focus-ring{border-color:CanvasText}}.mdc-fab.mdc-ripple-upgraded--background-focused .mdc-fab__focus-ring::after,.mdc-fab:not(.mdc-ripple-upgraded):focus .mdc-fab__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-fab.mdc-ripple-upgraded--background-focused .mdc-fab__focus-ring::after,.mdc-fab:not(.mdc-ripple-upgraded):focus .mdc-fab__focus-ring::after{border-color:CanvasText}}.mdc-fab:active,.mdc-fab:focus{outline:none}.mdc-fab:hover{cursor:pointer}.mdc-fab>svg{width:100%}.mdc-fab--mini{width:40px;height:40px}.mdc-fab--extended{border-radius:24px;padding-left:20px;padding-right:20px;width:auto;max-width:100%;height:48px;line-height:normal}.mdc-fab--extended .mdc-fab__ripple{border-radius:24px}.mdc-fab--extended .mdc-fab__icon{margin-left:calc(12px - 20px);margin-right:12px}[dir=rtl] .mdc-fab--extended .mdc-fab__icon,.mdc-fab--extended .mdc-fab__icon[dir=rtl]{margin-left:12px;margin-right:calc(12px - 20px)}.mdc-fab--extended .mdc-fab__label+.mdc-fab__icon{margin-left:12px;margin-right:calc(12px - 20px)}[dir=rtl] .mdc-fab--extended .mdc-fab__label+.mdc-fab__icon,.mdc-fab--extended .mdc-fab__label+.mdc-fab__icon[dir=rtl]{margin-left:calc(12px - 20px);margin-right:12px}.mdc-fab--touch{margin-top:4px;margin-bottom:4px;margin-right:4px;margin-left:4px}.mdc-fab--touch .mdc-fab__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mdc-fab::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-fab::before{border-color:CanvasText}}.mdc-fab__label{justify-content:flex-start;text-overflow:ellipsis;white-space:nowrap;overflow-x:hidden;overflow-y:visible}.mdc-fab__icon{transition:transform 180ms 90ms cubic-bezier(0, 0, 0.2, 1);fill:currentColor;will-change:transform}.mdc-fab .mdc-fab__icon{display:inline-flex;align-items:center;justify-content:center}.mdc-fab--exited{transform:scale(0);opacity:0;transition:opacity 15ms linear 150ms,transform 180ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-fab--exited .mdc-fab__icon{transform:scale(0);transition:transform 135ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-fab .mdc-fab__icon{width:24px;height:24px;font-size:24px}.mdc-fab:not(.mdc-fab--extended){border-radius:50%}.mdc-fab:not(.mdc-fab--extended) .mdc-fab__ripple{border-radius:50%}.mat-mdc-fab,.mat-mdc-mini-fab{-webkit-tap-highlight-color:rgba(0,0,0,0);background-color:var(--mdc-fab-container-color, transparent);box-shadow:0px 3px 5px -1px rgba(0, 0, 0, 0.2), 0px 6px 10px 0px rgba(0, 0, 0, 0.14), 0px 1px 18px 0px rgba(0, 0, 0, 0.12);color:var(--mat-mdc-fab-color, inherit);flex-shrink:0}.mat-mdc-fab .mat-mdc-button-ripple,.mat-mdc-fab .mat-mdc-button-persistent-ripple,.mat-mdc-fab .mat-mdc-button-persistent-ripple::before,.mat-mdc-mini-fab .mat-mdc-button-ripple,.mat-mdc-mini-fab .mat-mdc-button-persistent-ripple,.mat-mdc-mini-fab .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-fab .mat-mdc-button-persistent-ripple::before,.mat-mdc-mini-fab .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-fab .mat-ripple-element,.mat-mdc-mini-fab .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-fab .mdc-button__label,.mat-mdc-mini-fab .mdc-button__label{z-index:1}.mat-mdc-fab .mat-mdc-focus-indicator,.mat-mdc-mini-fab .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-fab:focus .mat-mdc-focus-indicator::before,.mat-mdc-mini-fab:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-fab .mat-mdc-button-touch-target,.mat-mdc-mini-fab .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mat-mdc-fab._mat-animation-noopable,.mat-mdc-mini-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-fab:not(:disabled) .mdc-fab__icon,.mat-mdc-mini-fab:not(:disabled) .mdc-fab__icon{color:var(--mdc-fab-icon-color, inherit)}.mat-mdc-fab:not(.mdc-fab--extended),.mat-mdc-mini-fab:not(.mdc-fab--extended){border-radius:var(--mdc-fab-container-shape, 50%)}.mat-mdc-fab:not(.mdc-fab--extended) .mdc-fab__ripple,.mat-mdc-mini-fab:not(.mdc-fab--extended) .mdc-fab__ripple{border-radius:var(--mdc-fab-container-shape, 50%)}.mat-mdc-fab:hover,.mat-mdc-fab:focus,.mat-mdc-mini-fab:hover,.mat-mdc-mini-fab:focus{box-shadow:0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12)}.mat-mdc-fab:active,.mat-mdc-fab:focus:active,.mat-mdc-mini-fab:active,.mat-mdc-mini-fab:focus:active{box-shadow:0px 7px 8px -4px rgba(0, 0, 0, 0.2), 0px 12px 17px 2px rgba(0, 0, 0, 0.14), 0px 5px 22px 4px rgba(0, 0, 0, 0.12)}.mat-mdc-fab[disabled],.mat-mdc-mini-fab[disabled]{cursor:default;pointer-events:none;box-shadow:0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12)}.mat-mdc-fab:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-mini-fab:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}.mat-mdc-fab .mat-icon,.mat-mdc-fab .material-icons,.mat-mdc-mini-fab .mat-icon,.mat-mdc-mini-fab .material-icons{transition:transform 180ms 90ms cubic-bezier(0, 0, 0.2, 1);fill:currentColor;will-change:transform}.mat-mdc-fab .mat-mdc-focus-indicator::before,.mat-mdc-mini-fab .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-extended-fab{border-radius:24px;padding-left:20px;padding-right:20px;width:auto;max-width:100%;height:48px;line-height:normal}.mat-mdc-extended-fab .mdc-fab__ripple{border-radius:24px}.mat-mdc-extended-fab .mdc-fab__icon{margin-left:calc(12px - 20px);margin-right:12px}[dir=rtl] .mat-mdc-extended-fab .mdc-fab__icon,.mat-mdc-extended-fab .mdc-fab__icon[dir=rtl]{margin-left:12px;margin-right:calc(12px - 20px)}.mat-mdc-extended-fab .mdc-fab__label+.mdc-fab__icon{margin-left:12px;margin-right:calc(12px - 20px)}[dir=rtl] .mat-mdc-extended-fab .mdc-fab__label+.mdc-fab__icon,.mat-mdc-extended-fab .mdc-fab__label+.mdc-fab__icon[dir=rtl]{margin-left:calc(12px - 20px);margin-right:12px}.mat-mdc-extended-fab>.mat-icon,.mat-mdc-extended-fab>.material-icons{margin-left:calc(12px - 20px);margin-right:12px}[dir=rtl] .mat-mdc-extended-fab>.mat-icon,[dir=rtl] .mat-mdc-extended-fab>.material-icons,.mat-mdc-extended-fab>.mat-icon[dir=rtl],.mat-mdc-extended-fab>.material-icons[dir=rtl]{margin-left:12px;margin-right:calc(12px - 20px)}.mat-mdc-extended-fab .mdc-button__label+.mat-icon,.mat-mdc-extended-fab .mdc-button__label+.material-icons{margin-left:12px;margin-right:calc(12px - 20px)}[dir=rtl] .mat-mdc-extended-fab .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-extended-fab .mdc-button__label+.material-icons,.mat-mdc-extended-fab .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-extended-fab .mdc-button__label+.material-icons[dir=rtl]{margin-left:calc(12px - 20px);margin-right:12px}.mat-mdc-extended-fab .mat-mdc-button-touch-target{width:100%}'],encapsulation:2,changeDetection:0}),m})(),C=(()=>{class m{}return m.\u0275fac=function(f){return new(f||m)},m.\u0275mod=M.oAB({type:m}),m.\u0275inj=M.cJS({imports:[y.BQ,y.si,y.BQ]}),m})()},7478:(ft,G,d)=>{d.d(G,{Hw:()=>ze,Ps:()=>Ce});var h=d(4650),M=d(3238),H=d(1281),y=d(6895),B=d(1086),c=d(1737),E=d(6498),S=d(6688),I=d(4850),_=d(7830),k=d(5254);function D(r,n){return new E.y(t=>{const i=r.length;if(0===i)return void t.complete();const s=new Array(i);let p=0,v=0;for(let T=0;T<i;T++){const O=(0,k.D)(r[T]);let W=!1;t.add(O.subscribe({next:et=>{W||(W=!0,v++),s[T]=et},error:et=>t.error(et),complete:()=>{p++,(p===i||!W)&&(v===i&&t.next(n?n.reduce((et,It,lt)=>(et[It]=s[lt],et),{}):s),t.complete())}}))}})}var Z=d(2654),V=d(2994),o=d(7221),nt=d(537),L=d(8117),q=d(2986),A=d(1406),g=d(2198);class w{}class N{constructor(n){this.normalizedNames=new Map,this.lazyUpdate=null,n?this.lazyInit="string"==typeof n?()=>{this.headers=new Map,n.split("\n").forEach(t=>{const i=t.indexOf(":");if(i>0){const s=t.slice(0,i),p=s.toLowerCase(),v=t.slice(i+1).trim();this.maybeSetNormalizedName(s,p),this.headers.has(p)?this.headers.get(p).push(v):this.headers.set(p,[v])}})}:()=>{this.headers=new Map,Object.keys(n).forEach(t=>{let i=n[t];const s=t.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(this.headers.set(s,i),this.maybeSetNormalizedName(t,s))})}:this.headers=new Map}has(n){return this.init(),this.headers.has(n.toLowerCase())}get(n){this.init();const t=this.headers.get(n.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(n){return this.init(),this.headers.get(n.toLowerCase())||null}append(n,t){return this.clone({name:n,value:t,op:"a"})}set(n,t){return this.clone({name:n,value:t,op:"s"})}delete(n,t){return this.clone({name:n,value:t,op:"d"})}maybeSetNormalizedName(n,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,n)}init(){this.lazyInit&&(this.lazyInit instanceof N?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(n=>this.applyUpdate(n)),this.lazyUpdate=null))}copyFrom(n){n.init(),Array.from(n.headers.keys()).forEach(t=>{this.headers.set(t,n.headers.get(t)),this.normalizedNames.set(t,n.normalizedNames.get(t))})}clone(n){const t=new N;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof N?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([n]),t}applyUpdate(n){const t=n.name.toLowerCase();switch(n.op){case"a":case"s":let i=n.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(n.name,t);const s=("a"===n.op?this.headers.get(t):void 0)||[];s.push(...i),this.headers.set(t,s);break;case"d":const p=n.value;if(p){let v=this.headers.get(t);if(!v)return;v=v.filter(T=>-1===p.indexOf(T)),0===v.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,v)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(n){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>n(this.normalizedNames.get(t),this.headers.get(t)))}}class U{encodeKey(n){return at(n)}encodeValue(n){return at(n)}decodeKey(n){return decodeURIComponent(n)}decodeValue(n){return decodeURIComponent(n)}}const Q=/%(\d[a-f0-9])/gi,ct={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function at(r){return encodeURIComponent(r).replace(Q,(n,t)=>ct[t]??n)}function rt(r){return`${r}`}class K{constructor(n={}){if(this.updates=null,this.cloneFrom=null,this.encoder=n.encoder||new U,n.fromString){if(n.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function $(r,n){const t=new Map;return r.length>0&&r.replace(/^\?/,"").split("&").forEach(s=>{const p=s.indexOf("="),[v,T]=-1==p?[n.decodeKey(s),""]:[n.decodeKey(s.slice(0,p)),n.decodeValue(s.slice(p+1))],O=t.get(v)||[];O.push(T),t.set(v,O)}),t}(n.fromString,this.encoder)}else n.fromObject?(this.map=new Map,Object.keys(n.fromObject).forEach(t=>{const i=n.fromObject[t],s=Array.isArray(i)?i.map(rt):[rt(i)];this.map.set(t,s)})):this.map=null}has(n){return this.init(),this.map.has(n)}get(n){this.init();const t=this.map.get(n);return t?t[0]:null}getAll(n){return this.init(),this.map.get(n)||null}keys(){return this.init(),Array.from(this.map.keys())}append(n,t){return this.clone({param:n,value:t,op:"a"})}appendAll(n){const t=[];return Object.keys(n).forEach(i=>{const s=n[i];Array.isArray(s)?s.forEach(p=>{t.push({param:i,value:p,op:"a"})}):t.push({param:i,value:s,op:"a"})}),this.clone(t)}set(n,t){return this.clone({param:n,value:t,op:"s"})}delete(n,t){return this.clone({param:n,value:t,op:"d"})}toString(){return this.init(),this.keys().map(n=>{const t=this.encoder.encodeKey(n);return this.map.get(n).map(i=>t+"="+this.encoder.encodeValue(i)).join("&")}).filter(n=>""!==n).join("&")}clone(n){const t=new K({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(n),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(n=>this.map.set(n,this.cloneFrom.map.get(n))),this.updates.forEach(n=>{switch(n.op){case"a":case"s":const t=("a"===n.op?this.map.get(n.param):void 0)||[];t.push(rt(n.value)),this.map.set(n.param,t);break;case"d":if(void 0===n.value){this.map.delete(n.param);break}{let i=this.map.get(n.param)||[];const s=i.indexOf(rt(n.value));-1!==s&&i.splice(s,1),i.length>0?this.map.set(n.param,i):this.map.delete(n.param)}}}),this.cloneFrom=this.updates=null)}}class mt{constructor(){this.map=new Map}set(n,t){return this.map.set(n,t),this}get(n){return this.map.has(n)||this.map.set(n,n.defaultValue()),this.map.get(n)}delete(n){return this.map.delete(n),this}has(n){return this.map.has(n)}keys(){return this.map.keys()}}function C(r){return typeof ArrayBuffer<"u"&&r instanceof ArrayBuffer}function m(r){return typeof Blob<"u"&&r instanceof Blob}function b(r){return typeof FormData<"u"&&r instanceof FormData}class z{constructor(n,t,i,s){let p;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=n.toUpperCase(),function Pt(r){switch(r){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||s?(this.body=void 0!==i?i:null,p=s):p=i,p&&(this.reportProgress=!!p.reportProgress,this.withCredentials=!!p.withCredentials,p.responseType&&(this.responseType=p.responseType),p.headers&&(this.headers=p.headers),p.context&&(this.context=p.context),p.params&&(this.params=p.params)),this.headers||(this.headers=new N),this.context||(this.context=new mt),this.params){const v=this.params.toString();if(0===v.length)this.urlWithParams=t;else{const T=t.indexOf("?");this.urlWithParams=t+(-1===T?"?":T<t.length-1?"&":"")+v}}else this.params=new K,this.urlWithParams=t}serializeBody(){return null===this.body?null:C(this.body)||m(this.body)||b(this.body)||function f(r){return typeof URLSearchParams<"u"&&r instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof K?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||b(this.body)?null:m(this.body)?this.body.type||null:C(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof K?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(n={}){const t=n.method||this.method,i=n.url||this.url,s=n.responseType||this.responseType,p=void 0!==n.body?n.body:this.body,v=void 0!==n.withCredentials?n.withCredentials:this.withCredentials,T=void 0!==n.reportProgress?n.reportProgress:this.reportProgress;let O=n.headers||this.headers,W=n.params||this.params;const et=n.context??this.context;return void 0!==n.setHeaders&&(O=Object.keys(n.setHeaders).reduce((It,lt)=>It.set(lt,n.setHeaders[lt]),O)),n.setParams&&(W=Object.keys(n.setParams).reduce((It,lt)=>It.set(lt,n.setParams[lt]),W)),new z(t,i,p,{params:W,headers:O,context:et,reportProgress:T,responseType:s,withCredentials:v})}}var R=(()=>((R=R||{})[R.Sent=0]="Sent",R[R.UploadProgress=1]="UploadProgress",R[R.ResponseHeader=2]="ResponseHeader",R[R.DownloadProgress=3]="DownloadProgress",R[R.Response=4]="Response",R[R.User=5]="User",R))();class Y{constructor(n,t=200,i="OK"){this.headers=n.headers||new N,this.status=void 0!==n.status?n.status:t,this.statusText=n.statusText||i,this.url=n.url||null,this.ok=this.status>=200&&this.status<300}}class gt extends Y{constructor(n={}){super(n),this.type=R.Response,this.body=void 0!==n.body?n.body:null}clone(n={}){return new gt({body:void 0!==n.body?n.body:this.body,headers:n.headers||this.headers,status:void 0!==n.status?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}}function At(r,n){return{body:n,headers:r.headers,context:r.context,observe:r.observe,params:r.params,reportProgress:r.reportProgress,responseType:r.responseType,withCredentials:r.withCredentials}}let jt=(()=>{class r{constructor(t){this.handler=t}request(t,i,s={}){let p;if(t instanceof z)p=t;else{let O,W;O=s.headers instanceof N?s.headers:new N(s.headers),s.params&&(W=s.params instanceof K?s.params:new K({fromObject:s.params})),p=new z(t,i,void 0!==s.body?s.body:null,{headers:O,context:s.context,params:W,reportProgress:s.reportProgress,responseType:s.responseType||"json",withCredentials:s.withCredentials})}const v=(0,B.of)(p).pipe((0,A.b)(O=>this.handler.handle(O)));if(t instanceof z||"events"===s.observe)return v;const T=v.pipe((0,g.h)(O=>O instanceof gt));switch(s.observe||"body"){case"body":switch(p.responseType){case"arraybuffer":return T.pipe((0,I.U)(O=>{if(null!==O.body&&!(O.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return O.body}));case"blob":return T.pipe((0,I.U)(O=>{if(null!==O.body&&!(O.body instanceof Blob))throw new Error("Response is not a Blob.");return O.body}));case"text":return T.pipe((0,I.U)(O=>{if(null!==O.body&&"string"!=typeof O.body)throw new Error("Response is not a string.");return O.body}));default:return T.pipe((0,I.U)(O=>O.body))}case"response":return T;default:throw new Error(`Unreachable: unhandled observe type ${s.observe}}`)}}delete(t,i={}){return this.request("DELETE",t,i)}get(t,i={}){return this.request("GET",t,i)}head(t,i={}){return this.request("HEAD",t,i)}jsonp(t,i){return this.request("JSONP",t,{params:(new K).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,i={}){return this.request("OPTIONS",t,i)}patch(t,i,s={}){return this.request("PATCH",t,At(s,i))}post(t,i,s={}){return this.request("POST",t,At(s,i))}put(t,i,s={}){return this.request("PUT",t,At(s,i))}}return r.\u0275fac=function(t){return new(t||r)(h.LFG(w))},r.\u0275prov=h.Yz7({token:r,factory:r.\u0275fac}),r})();var x=d(1481);const F=["*"];let J;function X(r){return function pt(){if(void 0===J&&(J=null,typeof window<"u")){const r=window;void 0!==r.trustedTypes&&(J=r.trustedTypes.createPolicy("angular#components",{createHTML:n=>n}))}return J}()?.createHTML(r)||r}function Jt(r){return Error(`Unable to find icon with the name "${r}"`)}function vt(r){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${r}".`)}function pe(r){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${r}".`)}class St{constructor(n,t,i){this.url=n,this.svgText=t,this.options=i}}let Xt=(()=>{class r{constructor(t,i,s,p){this._httpClient=t,this._sanitizer=i,this._errorHandler=p,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=s}addSvgIcon(t,i,s){return this.addSvgIconInNamespace("",t,i,s)}addSvgIconLiteral(t,i,s){return this.addSvgIconLiteralInNamespace("",t,i,s)}addSvgIconInNamespace(t,i,s,p){return this._addSvgIconConfig(t,i,new St(s,null,p))}addSvgIconResolver(t){return this._resolvers.push(t),this}addSvgIconLiteralInNamespace(t,i,s,p){const v=this._sanitizer.sanitize(h.q3G.HTML,s);if(!v)throw pe(s);const T=X(v);return this._addSvgIconConfig(t,i,new St("",T,p))}addSvgIconSet(t,i){return this.addSvgIconSetInNamespace("",t,i)}addSvgIconSetLiteral(t,i){return this.addSvgIconSetLiteralInNamespace("",t,i)}addSvgIconSetInNamespace(t,i,s){return this._addSvgIconSetConfig(t,new St(i,null,s))}addSvgIconSetLiteralInNamespace(t,i,s){const p=this._sanitizer.sanitize(h.q3G.HTML,i);if(!p)throw pe(i);const v=X(p);return this._addSvgIconSetConfig(t,new St("",v,s))}registerFontClassAlias(t,i=t){return this._fontCssClassesByAlias.set(t,i),this}classNameForFontAlias(t){return this._fontCssClassesByAlias.get(t)||t}setDefaultFontSetClass(...t){return this._defaultFontSetClass=t,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(t){const i=this._sanitizer.sanitize(h.q3G.RESOURCE_URL,t);if(!i)throw vt(t);const s=this._cachedIconsByUrl.get(i);return s?(0,B.of)(Wt(s)):this._loadSvgIconFromConfig(new St(t,null)).pipe((0,V.b)(p=>this._cachedIconsByUrl.set(i,p)),(0,I.U)(p=>Wt(p)))}getNamedSvgIcon(t,i=""){const s=ue(i,t);let p=this._svgIconConfigs.get(s);if(p)return this._getSvgFromConfig(p);if(p=this._getIconConfigFromResolvers(i,t),p)return this._svgIconConfigs.set(s,p),this._getSvgFromConfig(p);const v=this._iconSetConfigs.get(i);return v?this._getSvgFromIconSetConfigs(t,v):(0,c._)(Jt(s))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(t){return t.svgText?(0,B.of)(Wt(this._svgElementFromConfig(t))):this._loadSvgIconFromConfig(t).pipe((0,I.U)(i=>Wt(i)))}_getSvgFromIconSetConfigs(t,i){const s=this._extractIconWithNameFromAnySet(t,i);return s?(0,B.of)(s):function P(...r){if(1===r.length){const n=r[0];if((0,S.k)(n))return D(n,null);if((0,_.K)(n)&&Object.getPrototypeOf(n)===Object.prototype){const t=Object.keys(n);return D(t.map(i=>n[i]),t)}}if("function"==typeof r[r.length-1]){const n=r.pop();return D(r=1===r.length&&(0,S.k)(r[0])?r[0]:r,null).pipe((0,I.U)(t=>n(...t)))}return D(r,null)}(i.filter(v=>!v.svgText).map(v=>this._loadSvgIconSetFromConfig(v).pipe((0,o.K)(T=>{const W=`Loading icon set URL: ${this._sanitizer.sanitize(h.q3G.RESOURCE_URL,v.url)} failed: ${T.message}`;return this._errorHandler.handleError(new Error(W)),(0,B.of)(null)})))).pipe((0,I.U)(()=>{const v=this._extractIconWithNameFromAnySet(t,i);if(!v)throw Jt(t);return v}))}_extractIconWithNameFromAnySet(t,i){for(let s=i.length-1;s>=0;s--){const p=i[s];if(p.svgText&&p.svgText.toString().indexOf(t)>-1){const v=this._svgElementFromConfig(p),T=this._extractSvgIconFromSet(v,t,p.options);if(T)return T}}return null}_loadSvgIconFromConfig(t){return this._fetchIcon(t).pipe((0,V.b)(i=>t.svgText=i),(0,I.U)(()=>this._svgElementFromConfig(t)))}_loadSvgIconSetFromConfig(t){return t.svgText?(0,B.of)(null):this._fetchIcon(t).pipe((0,V.b)(i=>t.svgText=i))}_extractSvgIconFromSet(t,i,s){const p=t.querySelector(`[id="${i}"]`);if(!p)return null;const v=p.cloneNode(!0);if(v.removeAttribute("id"),"svg"===v.nodeName.toLowerCase())return this._setSvgAttributes(v,s);if("symbol"===v.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(v),s);const T=this._svgElementFromString(X("<svg></svg>"));return T.appendChild(v),this._setSvgAttributes(T,s)}_svgElementFromString(t){const i=this._document.createElement("DIV");i.innerHTML=t;const s=i.querySelector("svg");if(!s)throw Error("<svg> tag not found");return s}_toSvgElement(t){const i=this._svgElementFromString(X("<svg></svg>")),s=t.attributes;for(let p=0;p<s.length;p++){const{name:v,value:T}=s[p];"id"!==v&&i.setAttribute(v,T)}for(let p=0;p<t.childNodes.length;p++)t.childNodes[p].nodeType===this._document.ELEMENT_NODE&&i.appendChild(t.childNodes[p].cloneNode(!0));return i}_setSvgAttributes(t,i){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),i&&i.viewBox&&t.setAttribute("viewBox",i.viewBox),t}_fetchIcon(t){const{url:i,options:s}=t,p=s?.withCredentials??!1;if(!this._httpClient)throw function oe(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==i)throw Error(`Cannot fetch icon from URL "${i}".`);const v=this._sanitizer.sanitize(h.q3G.RESOURCE_URL,i);if(!v)throw vt(i);const T=this._inProgressUrlFetches.get(v);if(T)return T;const O=this._httpClient.get(v,{responseType:"text",withCredentials:p}).pipe((0,I.U)(W=>X(W)),(0,nt.x)(()=>this._inProgressUrlFetches.delete(v)),(0,L.B)());return this._inProgressUrlFetches.set(v,O),O}_addSvgIconConfig(t,i,s){return this._svgIconConfigs.set(ue(t,i),s),this}_addSvgIconSetConfig(t,i){const s=this._iconSetConfigs.get(t);return s?s.push(i):this._iconSetConfigs.set(t,[i]),this}_svgElementFromConfig(t){if(!t.svgElement){const i=this._svgElementFromString(t.svgText);this._setSvgAttributes(i,t.options),t.svgElement=i}return t.svgElement}_getIconConfigFromResolvers(t,i){for(let s=0;s<this._resolvers.length;s++){const p=this._resolvers[s](i,t);if(p)return ge(p)?new St(p.url,null,p.options):new St(p,null)}}}return r.\u0275fac=function(t){return new(t||r)(h.LFG(jt,8),h.LFG(x.H7),h.LFG(y.K0,8),h.LFG(h.qLn))},r.\u0275prov=h.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();function Wt(r){return r.cloneNode(!0)}function ue(r,n){return r+":"+n}function ge(r){return!(!r.url||!r.options)}const xe=(0,M.pj)(class{constructor(r){this._elementRef=r}}),ve=new h.OlP("MAT_ICON_DEFAULT_OPTIONS"),_e=new h.OlP("mat-icon-location",{providedIn:"root",factory:function ye(){const r=(0,h.f3M)(y.K0),n=r?r.location:null;return{getPathname:()=>n?n.pathname+n.search:""}}}),be=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],we=be.map(r=>`[${r}]`).join(", "),Me=/^url\(['"]?#(.*?)['"]?\)$/;let ze=(()=>{class r extends xe{constructor(t,i,s,p,v,T){super(t),this._iconRegistry=i,this._location=p,this._errorHandler=v,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=Z.w.EMPTY,T&&(T.color&&(this.color=this.defaultColor=T.color),T.fontSet&&(this.fontSet=T.fontSet)),s||t.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(t){this._inline=(0,H.Ig)(t)}get svgIcon(){return this._svgIcon}set svgIcon(t){t!==this._svgIcon&&(t?this._updateSvgIcon(t):this._svgIcon&&this._clearSvgElement(),this._svgIcon=t)}get fontSet(){return this._fontSet}set fontSet(t){const i=this._cleanupFontValue(t);i!==this._fontSet&&(this._fontSet=i,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(t){const i=this._cleanupFontValue(t);i!==this._fontIcon&&(this._fontIcon=i,this._updateFontIconClasses())}_splitIconName(t){if(!t)return["",""];const i=t.split(":");switch(i.length){case 1:return["",i[0]];case 2:return i;default:throw Error(`Invalid icon name: "${t}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const t=this._elementsWithExternalReferences;if(t&&t.size){const i=this._location.getPathname();i!==this._previousPath&&(this._previousPath=i,this._prependPathToReferences(i))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(t){this._clearSvgElement();const i=this._location.getPathname();this._previousPath=i,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(i),this._elementRef.nativeElement.appendChild(t)}_clearSvgElement(){const t=this._elementRef.nativeElement;let i=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();i--;){const s=t.childNodes[i];(1!==s.nodeType||"svg"===s.nodeName.toLowerCase())&&s.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const t=this._elementRef.nativeElement,i=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(s=>s.length>0);this._previousFontSetClass.forEach(s=>t.classList.remove(s)),i.forEach(s=>t.classList.add(s)),this._previousFontSetClass=i,this.fontIcon!==this._previousFontIconClass&&!i.includes("mat-ligature-font")&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(t){return"string"==typeof t?t.trim().split(" ")[0]:t}_prependPathToReferences(t){const i=this._elementsWithExternalReferences;i&&i.forEach((s,p)=>{s.forEach(v=>{p.setAttribute(v.name,`url('${t}#${v.value}')`)})})}_cacheChildrenWithExternalReferences(t){const i=t.querySelectorAll(we),s=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let p=0;p<i.length;p++)be.forEach(v=>{const T=i[p],O=T.getAttribute(v),W=O?O.match(Me):null;if(W){let et=s.get(T);et||(et=[],s.set(T,et)),et.push({name:v,value:W[1]})}})}_updateSvgIcon(t){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),t){const[i,s]=this._splitIconName(t);i&&(this._svgNamespace=i),s&&(this._svgName=s),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(s,i).pipe((0,q.q)(1)).subscribe(p=>this._setSvgElement(p),p=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${i}:${s}! ${p.message}`))})}}}return r.\u0275fac=function(t){return new(t||r)(h.Y36(h.SBq),h.Y36(Xt),h.$8M("aria-hidden"),h.Y36(_e),h.Y36(h.qLn),h.Y36(ve,8))},r.\u0275cmp=h.Xpm({type:r,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:8,hostBindings:function(t,i){2&t&&(h.uIk("data-mat-icon-type",i._usingFontIcon()?"font":"svg")("data-mat-icon-name",i._svgName||i.fontIcon)("data-mat-icon-namespace",i._svgNamespace||i.fontSet)("fontIcon",i._usingFontIcon()?i.fontIcon:null),h.ekj("mat-icon-inline",i.inline)("mat-icon-no-color","primary"!==i.color&&"accent"!==i.color&&"warn"!==i.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[h.qOj],ngContentSelectors:F,decls:1,vars:0,template:function(t,i){1&t&&(h.F$t(),h.Hsn(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0}),r})(),Ce=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=h.oAB({type:r}),r.\u0275inj=h.cJS({imports:[M.BQ,M.BQ]}),r})()}}]);