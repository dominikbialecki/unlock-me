"use strict";(self.webpackChunkunlock_me=self.webpackChunkunlock_me||[]).push([[618],{6618:(j,m,c)=>{c.r(m),c.d(m,{PrizeComponent:()=>f});var h=c(6895),b=c(7553),P=c(8929),C=c(353),v=c(3489),y=c(2866);class O{constructor(e,t,s,r){this.bufferTimeSpan=e,this.bufferCreationInterval=t,this.maxBufferSize=s,this.scheduler=r}call(e,t){return t.subscribe(new k(e,this.bufferTimeSpan,this.bufferCreationInterval,this.maxBufferSize,this.scheduler))}}class T{constructor(){this.buffer=[]}}class k extends v.L{constructor(e,t,s,r,o){super(e),this.bufferTimeSpan=t,this.bufferCreationInterval=s,this.maxBufferSize=r,this.scheduler=o,this.contexts=[];const l=this.openContext();if(this.timespanOnly=null==s||s<0,this.timespanOnly)this.add(l.closeAction=o.schedule(p,t,{subscriber:this,context:l,bufferTimeSpan:t}));else{const F={bufferTimeSpan:t,bufferCreationInterval:s,subscriber:this,scheduler:o};this.add(l.closeAction=o.schedule(z,t,{subscriber:this,context:l})),this.add(o.schedule(A,s,F))}}_next(e){const t=this.contexts,s=t.length;let r;for(let o=0;o<s;o++){const l=t[o],a=l.buffer;a.push(e),a.length==this.maxBufferSize&&(r=l)}r&&this.onBufferFull(r)}_error(e){this.contexts.length=0,super._error(e)}_complete(){const{contexts:e,destination:t}=this;for(;e.length>0;){const s=e.shift();t.next(s.buffer)}super._complete()}_unsubscribe(){this.contexts=null}onBufferFull(e){this.closeContext(e);const t=e.closeAction;if(t.unsubscribe(),this.remove(t),!this.closed&&this.timespanOnly){e=this.openContext();const s=this.bufferTimeSpan;this.add(e.closeAction=this.scheduler.schedule(p,s,{subscriber:this,context:e,bufferTimeSpan:s}))}}openContext(){const e=new T;return this.contexts.push(e),e}closeContext(e){this.destination.next(e.buffer);const t=this.contexts;(t?t.indexOf(e):-1)>=0&&t.splice(t.indexOf(e),1)}}function p(n){const e=n.subscriber,t=n.context;t&&e.closeContext(t),e.closed||(n.context=e.openContext(),n.context.closeAction=this.schedule(n,n.bufferTimeSpan))}function A(n){const{bufferCreationInterval:e,bufferTimeSpan:t,subscriber:s,scheduler:r}=n,o=s.openContext();s.closed||(s.add(o.closeAction=r.schedule(z,t,{subscriber:s,context:o})),this.schedule(n,e))}function z(n){const{subscriber:e,context:t}=n;e.closeContext(t)}var $=c(2198),x=c(4850),i=c(4650),B=c(591),d=c(1086);const g=[{name:"Zam\xf3wimy jedzenie jakie sobie tylko \u017cyczysz"},{name:"Przepyszne \u015bniadanie do \u0142\xf3\u017cka"},{name:'Obejrzenie "Przemin\u0119\u0142o z wiatrem"'},{name:"Ugryzienie w brzuch"},{name:"Ugryzienie w brzuch"},{name:"Ugryzienie w brzuch"},{name:"Przepyszne \u015bniadanie do \u0142\xf3\u017cka"},{name:'Obejrzenie "Przemin\u0119\u0142o z wiatrem"'},{name:"Ugryzienie w brzuch"}].map(({name:n},e)=>({name:n,used:!1,active:!1,id:e}));class u{constructor(){this.prizeKey="prizes",this.prizes$=new B.X([])}getPrizes(){let e=localStorage.getItem(this.prizeKey);const t=this.refreshSavedPrizes(e?JSON.parse(e):void 0);return this.storePrizes(t),this.prizes$.pipe((0,x.U)(s=>s.filter(r=>r.active)))}markAsUsed(e){const t=this.prizes$.getValue().map(s=>s.id===e?{...s,used:!0}:s);return this.storePrizes(t),(0,d.of)()}undoMarkAsUsed(e){const t=this.prizes$.getValue().map(s=>s.id===e?{...s,used:!1}:s);return this.storePrizes(t),(0,d.of)()}unlockNextPrize(){const e=this.prizes$.getValue(),t=e.find(s=>!s.active);return t&&(t.active=!0,this.storePrizes(e)),(0,d.of)()}storePrizes(e){this.prizes$.next(e),localStorage.setItem(this.prizeKey,JSON.stringify(e))}refreshSavedPrizes(e){return e?g.map(t=>{const s=e.find(r=>r.id===t.id);return{...t,used:s?.used??!1,active:s?.active??!1}}):[...g]}}function I(n,e){if(1&n){const t=i.EpF();i.TgZ(0,"li",3),i.NdJ("click",function(){const o=i.CHM(t).$implicit,l=i.oxw(2);return i.KtG(l.onPrizeClick(o))}),i._uU(1),i.qZA()}if(2&n){const t=e.$implicit;i.ekj("used",t.used),i.xp6(1),i.hij(" ",t.name," ")}}function U(n,e){if(1&n&&(i.TgZ(0,"ul"),i.YNc(1,I,2,3,"li",2),i.qZA()),2&n){const t=e.ngIf;i.xp6(1),i.Q6J("ngForOf",t)}}u.\u0275fac=function(e){return new(e||u)},u.\u0275prov=i.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"});class f{constructor(e){this.prizes=e,this.prizes$=this.prizes.getPrizes(),this.clickedPrize$=new P.xQ,this.clickedPrize$.pipe(function S(n){let e=arguments.length,t=C.P;(0,y.K)(arguments[arguments.length-1])&&(t=arguments[arguments.length-1],e--);let s=null;e>=2&&(s=arguments[1]);let r=Number.POSITIVE_INFINITY;return e>=3&&(r=arguments[2]),function(l){return l.lift(new O(n,s,r,t))}}(1e3),(0,$.h)(t=>t.length>=4),(0,x.U)(t=>t[0])).subscribe(t=>this.prizes.undoMarkAsUsed(t))}ngOnDestroy(){this.clickedPrize$.complete(),this.clickedPrize$.unsubscribe()}onPrizeClick(e){this.clickedPrize$.next(e.id),e.used||this.prizes.markAsUsed(e.id)}}f.\u0275fac=function(e){return new(e||f)(i.Y36(u))},f.\u0275cmp=i.Xpm({type:f,selectors:[["um-prize"]],standalone:!0,features:[i.jDz],decls:3,vars:3,consts:[[1,"note"],[4,"ngIf"],["class","note",3,"used","click",4,"ngFor","ngForOf"],[1,"note",3,"click"]],template:function(e,t){1&e&&(i.TgZ(0,"um-note",0),i.YNc(1,U,2,1,"ul",1),i.ALo(2,"async"),i.qZA()),2&e&&(i.xp6(1),i.Q6J("ngIf",i.lcZ(2,1,t.prizes$)))},dependencies:[h.ez,h.sg,h.O5,h.Ov,b.K],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column}.note[_ngcontent-%COMP%]{flex:1}.note.used[_ngcontent-%COMP%]{text-decoration:line-through}"],changeDetection:0})}}]);